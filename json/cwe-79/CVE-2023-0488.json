{"index": 10184, "cve_id": "CVE-2023-0488", "cwe_id": ["CWE-79"], "cve_language": "Python", "cve_description": "Cross-site Scripting (XSS) - Stored in GitHub repository pyload/pyload prior to 0.5.0b3.dev42.", "cvss": "5.4", "publish_date": "January 26, 2023", "AV": "NETWORK", "AC": "NETWORK", "PR": "LOW", "UI": "REQUIRED", "S": "CHANGED", "C": "LOW", "I": "LOW", "A": "NONE", "commit_id": "46d75a3087f3237d06530d55998938e2e2bda6bd", "commit_message": "make queue/collector links unclickable to prevent XSS", "commit_date": "2023-01-24T23:53:04Z", "project": "pyload/pyload", "url": "https://api.github.com/repos/pyload/pyload/commits/46d75a3087f3237d06530d55998938e2e2bda6bd", "html_url": "https://github.com/pyload/pyload/commit/46d75a3087f3237d06530d55998938e2e2bda6bd", "windows_before": [{"commit_id": "3eeecf549ad09493ed311f16338eca9aed581494", "commit_date": "Tue Jan 24 22:52:32 2023 +0200", "commit_message": "update is_safe_url()", "files_name": ["src/pyload/webui/app/helpers.py"]}, {"commit_id": "9c233f60b07a401152a595377cac9b247a7ef903", "commit_date": "Tue Jan 24 00:05:12 2023 +0200", "commit_message": "bugfix with get_redirect_url()", "files_name": ["src/pyload/webui/app/helpers.py"]}, {"commit_id": "431ea6f0371d748df66b344a05ca1a8e0310cff3", "commit_date": "Sun Jan 22 22:37:24 2023 +0200", "commit_message": "use patched MooTools-More.min.js for CVE-2021-20088", "files_name": ["src/pyload/webui/app/static/vendor/MooTools/MooTools-More.min.js"]}, {"commit_id": "a2b1eb1028f45ac58dea5f58593c1d3db2b4a104", "commit_date": "Sun Jan 22 01:14:49 2023 +0200", "commit_message": "validate time config values", "files_name": ["src/pyload/core/config/parser.py"]}, {"commit_id": "c602df58d05f4ea5e815b8e0565f85f41b1a445e", "commit_date": "Sat Jan 21 23:23:19 2023 +0200", "commit_message": "fix nonworking shield", "files_name": ["README.md"]}, {"commit_id": "c53b782eadd2af39d3304260d63b5604317f1cdc", "commit_date": "Sat Jan 21 23:14:53 2023 +0200", "commit_message": "support Python 3.11", "files_name": ["setup.cfg"]}, {"commit_id": "a24e5bcb468d8eda20f71d93b1948129d6b16a1e", "commit_date": "Sat Jan 21 22:01:31 2023 +0200", "commit_message": "use local mirror for windows pycurl installation (replace the now nonfunctional pipwin)", "files_name": [".github/scripts/install_pycurl_win.sh", ".github/workflows/test.yml"]}, {"commit_id": "17f84b2044895e45219f40a85e404d990ac1a598", "commit_date": "Tue Jan 17 23:07:24 2023 +0200", "commit_message": "clear session if invalid", "files_name": ["src/pyload/webui/app/helpers.py"]}, {"commit_id": "c035714c0596b704b11af0f8a669352f128ad2d9", "commit_date": "Thu Jan 12 02:00:29 2023 +0200", "commit_message": "fix issue that caused the session not expire after user was deleted", "files_name": ["src/pyload/core/api/__init__.py", "src/pyload/core/database/user_database.py", "src/pyload/webui/app/helpers.py"]}, {"commit_id": "a7e1616571fcb421c9b4fb1f00ab019ac69a0f1b", "commit_date": "Mon Jan 9 00:47:03 2023 +0100", "commit_message": "fix: add workaround for firefox fouc bug (#4236)", "files_name": ["src/pyload/webui/app/themes/modern/templates/base.html", "src/pyload/webui/app/themes/pyplex/templates/base.html"]}, {"commit_id": "a58ba7d7de3c4137936263f662dfa3618bb8a722", "commit_date": "Thu Jan 5 02:40:28 2023 +0200", "commit_message": "update GitHub workflows", "files_name": [".github/workflows/test.yml"]}, {"commit_id": "e34ab81712585ad9a860546e69e6e9c31a1aa97c", "commit_date": "Thu Jan 5 02:36:14 2023 +0200", "commit_message": "update GitHub workflows", "files_name": [".github/workflows/build.yml", ".github/workflows/test.yml"]}, {"commit_id": "bc0de69fba64c95c5257c08ade600e72a9f32c3b", "commit_date": "Thu Jan 5 01:47:20 2023 +0200", "commit_message": "typo", "files_name": ["src/pyload/webui/webserver_thread.py"]}, {"commit_id": "bd2a31b7de54570b919aa1581d486e6ee18c0f64", "commit_date": "Thu Jan 5 01:28:27 2023 +0200", "commit_message": "Add X-Frame-Options: DENY header", "files_name": ["src/pyload/webui/app/__init__.py"]}, {"commit_id": "8b6aec3aa90f347066262f83f21e32f96ab81e8e", "commit_date": "Thu Jan 5 01:06:46 2023 +0200", "commit_message": "2023", "files_name": ["AUTHORS.md", "CODE_OF_CONDUCT.md", "CONTRIBUTING.md", "README.md", "SECURITY.md", "src/pyload/webui/app/templates/base.html", "src/pyload/webui/app/themes/modern/templates/base.html", "src/pyload/webui/app/themes/pyplex/templates/base.html"]}, {"commit_id": "7b53b8d43c2c072b457dcd19c8a09bcfc3721703", "commit_date": "Wed Jan 4 22:47:25 2023 +0200", "commit_message": " Set 'Secure' Attribute in session cookie", "files_name": ["src/pyload/webui/app/__init__.py"]}, {"commit_id": "7d73ba7919e594d783b3411d7ddb87885aea782d", "commit_date": "Tue Jan 3 22:56:42 2023 +0200", "commit_message": "fix arbitrary python code execution by abusing js2py functionality", "files_name": ["src/pyload/core/utils/misc.py"]}, {"commit_id": "6aa71cd99a6f510de7137d17ec99f930916704c0", "commit_date": "Sun Dec 11 21:48:52 2022 +0200", "commit_message": "[TurbobitNet] fix #4229", "files_name": ["src/pyload/plugins/downloaders/TurbobitNet.py"]}, {"commit_id": "92aafc7a571e7503e6e742b77b943a65a0985b23", "commit_date": "Sat Dec 10 02:11:01 2022 +0200", "commit_message": "typo", "files_name": ["src/pyload/plugins/base/xfs_downloader.py"]}, {"commit_id": "d595479e26a2a0ddbe6751e33d78d15f633fa98a", "commit_date": "Thu Dec 8 00:39:52 2022 +0200", "commit_message": "python 3.6 is available upto ubuntu-20.04, not ubuntu-latest", "files_name": [".github/workflows/test.yml"]}, {"commit_id": "54e258ce0011f8ce01d87ce32e427ec28faa686d", "commit_date": "Wed Dec 7 22:54:21 2022 +0200", "commit_message": "[FilejokerNet] fix #4228", "files_name": ["src/pyload/plugins/downloaders/FilejokerNet.py"]}, {"commit_id": "18bef89414863a8e8ca0502c56061e2801a9a69a", "commit_date": "Sat Dec 3 18:55:31 2022 +0200", "commit_message": "R.I.P. uploaded.net", "files_name": ["src/pyload/plugins/accounts/UploadedTo.py", "src/pyload/plugins/decrypters/UploadedToFolder.py", "src/pyload/plugins/downloaders/UploadedTo.py"]}, {"commit_id": "b7629781df228a14ac72529bd22f2eaaa460470c", "commit_date": "Tue Nov 29 00:00:22 2022 +0200", "commit_message": "AnonfileCom -> AnonfilesCom", "files_name": ["src/pyload/plugins/downloaders/AnonfilesCom.py"]}, {"commit_id": "9210a7c8be243cb0c9d1b98894badba54c2c2ef5", "commit_date": "Mon Nov 28 23:40:40 2022 +0200", "commit_message": "add support for DebridplanetCom (#4224)", "files_name": ["src/pyload/plugins/accounts/DebridplanetCom.py", "src/pyload/plugins/downloaders/DebridplanetCom.py"]}, {"commit_id": "881121d2a167dd387eee42b048defd2fad0be570", "commit_date": "Sun Nov 27 22:37:58 2022 +0200", "commit_message": "fix version with stable", "files_name": ["src/pyload/plugins/downloaders/DownsterNet.py"]}, {"commit_id": "201e67eac11c7ae37ded8eaa15ca4fb50b4aa5b5", "commit_date": "Sun Nov 27 21:36:02 2022 +0100", "commit_message": "Fix extracting packages in DownsterNet (#4225)", "files_name": ["src/pyload/plugins/downloaders/DownsterNet.py"]}, {"commit_id": "589a36c995f54749c16e291da4a3d51ced17c5ef", "commit_date": "Sun Nov 27 21:46:39 2022 +0200", "commit_message": "fix FILE_ERRORS", "files_name": ["src/pyload/plugins/downloaders/SmoozedCom.py"]}, {"commit_id": "e4f7f4acb461fa00e0d2edbe282d2484b9efcc8b", "commit_date": "Sat Nov 19 06:04:18 2022 +0800", "commit_message": "Upgrade to Alpine 3.16, fix #4204 (#4222)", "files_name": ["Dockerfile"]}, {"commit_id": "bb979e8c4b46f34459034916723dbf391956dd27", "commit_date": "Wed Nov 16 01:23:00 2022 +0200", "commit_message": "revert #4205 (fixes #4204)", "files_name": ["Dockerfile"]}, {"commit_id": "5fcda63c4ddf0453bd02641e75f1d46cb558d9e4", "commit_date": "Mon Nov 14 02:00:32 2022 +0200", "commit_message": "[GoogledriveCom] fix #4221", "files_name": ["src/pyload/plugins/downloaders/GoogledriveCom.py"]}, {"commit_id": "9def58c84a3e514badc7b8f3546caf1c6f1e4a0d", "commit_date": "Sun Nov 6 20:36:00 2022 +0200", "commit_message": "fix typos", "files_name": ["src/pyload/plugins/base/hoster.py"]}, {"commit_id": "7bd221d844fbd7573598d284386a74409f8aa9d2", "commit_date": "Thu Nov 3 02:48:22 2022 +0200", "commit_message": "sanitize filename before adding to database", "files_name": ["src/pyload/core/database/file_database.py"]}, {"commit_id": "c8ca696a065b3e62f8f4bd4d18d8b69329cf845d", "commit_date": "Thu Nov 3 02:29:53 2022 +0200", "commit_message": "fix #4214", "files_name": ["src/pyload/plugins/base/simple_downloader.py"]}, {"commit_id": "2ececf349c29021fe6a6ca4d5d0306a657bf1b0b", "commit_date": "Wed Nov 2 22:29:39 2022 +0200", "commit_message": "typo", "files_name": ["src/pyload/plugins/accounts/ExtmatrixCom.py", "src/pyload/plugins/accounts/FileboomMe.py", "src/pyload/plugins/accounts/Keep2ShareCc.py", "src/pyload/plugins/accounts/UploadgigCom.py", "src/pyload/plugins/base/hoster.py", "src/pyload/plugins/downloaders/FileStoreTo.py", "src/pyload/plugins/downloaders/RPNetBiz.py"]}, {"commit_id": "995e3e645a1803b5d47f12ab4ade9d46a5a8d00c", "commit_date": "Wed Nov 2 01:40:11 2022 +0200", "commit_message": "Merge remote-tracking branch 'origin/main' into develop", "files_name": ["e06222252f5c8ce7acd9aa28f2275e0a4668b414 - Wed Nov 2 01:10:59 2022 +0200 : [UnTar] fix for CVE-2007-4559 (#4216)", "src/pyload/plugins/extractors/UnTar.py"]}, {"commit_id": "d7e7746cd29446ba343f2b114eb431f663b867c1", "commit_date": "Wed Nov 2 01:00:11 2022 +0200", "commit_message": "[UnTar] fix bug that made UnTar not extracting", "files_name": ["src/pyload/plugins/extractors/UnTar.py"]}, {"commit_id": "59ba8d6249e5ae52ee634b1eb2969076e639094e", "commit_date": "Tue Nov 1 17:35:02 2022 +0200", "commit_message": "fix typos", "files_name": ["src/pyload/core/database/file_database.py"]}, {"commit_id": "5aa3806c35bbbeda4d171bb20f082ce025f75422", "commit_date": "Tue Nov 1 13:28:47 2022 +0200", "commit_message": "use itertools.chain()", "files_name": ["src/pyload/core/managers/file_manager.py"]}, {"commit_id": "07182223df3415327293f761ccfeff242f0fcde4", "commit_date": "Tue Nov 1 13:26:50 2022 +0200", "commit_message": "add missing member variables to __init__()", "files_name": ["src/pyload/core/managers/plugin_manager.py"]}, {"commit_id": "c4003f64fd8aa461b88d2144a959559b65dc7ecd", "commit_date": "Tue Nov 1 11:46:07 2022 +0200", "commit_message": "crypter_plugins->decrypter_plugins, hoster_plugins->downloader_plugins, captcha_plugins->anticaptcha_plugins", "files_name": ["src/pyload/core/managers/file_manager.py", "src/pyload/core/managers/plugin_manager.py", "src/pyload/plugins/addons/JustPremium.py", "src/pyload/plugins/addons/LinkFilter.py", "src/pyload/plugins/base/multi_account.py", "src/pyload/plugins/base/multi_decrypter.py", "src/pyload/plugins/base/multi_downloader.py", "src/pyload/plugins/decrypters/Dereferer.py", "src/pyload/plugins/decrypters/XFileSharingFolder.py", "src/pyload/plugins/downloaders/XFileSharing.py"]}, {"commit_id": "dc0eac8a66201e84077f2d82ac64708ef3ea1bca", "commit_date": "Tue Nov 1 11:35:31 2022 +0200", "commit_message": "cosmetic changes", "files_name": ["src/pyload/core/managers/plugin_manager.py"]}, {"commit_id": "8b46bb52a56425d230cf66029d03fadc61d2d078", "commit_date": "Tue Nov 1 01:26:25 2022 +0200", "commit_message": "typo", "files_name": ["src/pyload/core/scheduler.py"]}, {"commit_id": "410c0672e103d1c4d074d36b8beebc4826582809", "commit_date": "Sun Oct 30 21:22:09 2022 +0200", "commit_message": "typo", "files_name": ["src/pyload/core/datatypes/pyfile.py"]}, {"commit_id": "6c245bc70c1dd2ada8d96dac5d4301649ed8c7a3", "commit_date": "Sat Oct 29 18:39:30 2022 +0300", "commit_message": "update pattern", "files_name": ["src/pyload/core/utils/parse.py"]}, {"commit_id": "355f7110bfef12e1eecb1bfae9f54dd26bd7458e", "commit_date": "Sat Oct 29 18:21:14 2022 +0300", "commit_message": "sync version with stable", "files_name": ["src/pyload/plugins/base/xfs_downloader.py"]}, {"commit_id": "5ba1209f76326b69525d886415ebbed5ccc557b3", "commit_date": "Sat Oct 29 13:45:51 2022 +0300", "commit_message": "switch to XFSDownloader", "files_name": ["src/pyload/plugins/downloaders/FiregetCom.py", "src/pyload/plugins/downloaders/WrzucajplikiPl.py"]}, {"commit_id": "ad916215730ae79697963a7d602124f7ce17a9e5", "commit_date": "Sat Oct 29 06:36:02 2022 +0300", "commit_message": "[ClicknuploadCom] fix #4213", "files_name": ["src/pyload/plugins/downloaders/ClicknuploadCc.py", "src/pyload/plugins/downloaders/ClicknuploadCom.py"]}, {"commit_id": "df2544c9a313aacc8fb242ec30053edca287ee39", "commit_date": "Sat Oct 29 06:06:10 2022 +0300", "commit_message": "bugfix in parse_html_header()", "files_name": ["src/pyload/plugins/helpers.py"]}, {"commit_id": "7876c838db274cac7e6daaf6430e7648b5ffb97b", "commit_date": "Sat Oct 29 04:31:07 2022 +0300", "commit_message": "[XFSDownloader] captcha bugfix", "files_name": ["src/pyload/plugins/base/xfs_downloader.py"]}, {"commit_id": "057d308b79bbfbe57b759f41a26e9d62ecaedee8", "commit_date": "Sat Oct 29 04:03:19 2022 +0300", "commit_message": "bugfix", "files_name": ["src/pyload/core/network/http/http_request.py"]}, {"commit_id": "b0baa45630d29068ec2bd35441abbdd41cdeede3", "commit_date": "Thu Oct 27 00:03:23 2022 +0300", "commit_message": "fix #4212", "files_name": ["src/pyload/plugins/base/captcha.py"]}, {"commit_id": "0317f87d9c57efb3f0618ebfd4707b102e850eee", "commit_date": "Sat Oct 22 21:55:49 2022 +0300", "commit_message": "sync version with stable", "files_name": ["src/pyload/plugins/downloaders/DailymotionCom.py"]}, {"commit_id": "6416c15aa7581f6d00b4e42cabf3b3bafbe4e541", "commit_date": "Sat Oct 22 14:22:59 2022 +0300", "commit_message": "[VeohCom] sync version with stable", "files_name": ["src/pyload/plugins/downloaders/VeohCom.py"]}, {"commit_id": "6636f489840927445f4016732418896c7a35c44c", "commit_date": "Sat Oct 22 13:10:49 2022 +0300", "commit_message": "[VeohCom] update", "files_name": ["src/pyload/plugins/downloaders/VeohCom.py"]}], "windows_after": [{"commit_id": "efdaffb9ad086440aa5a3ffa2f296c96766b2303", "commit_date": "Wed Jan 25 03:00:55 2023 +0200", "commit_message": "use upload-artifact v3", "files_name": [".github/workflows/build.yml"]}, {"commit_id": "a9098bdf7406e6faf9df3da6ff2d584e90c13bbb", "commit_date": "Thu Jan 26 02:42:31 2023 +0200", "commit_message": "enable SSL certificate verification by default, add option to disable it", "files_name": ["src/pyload/core/config/default.cfg", "src/pyload/core/network/http/http_request.py", "src/pyload/core/network/request_factory.py"]}, {"commit_id": "0c10065992928b9f53ec079d2282f39c5f3566d2", "commit_date": "Sat Jan 28 17:48:59 2023 +0200", "commit_message": "cosmetics", "files_name": ["src/pyload/core/network/http/http_request.py"]}, {"commit_id": "666cd0f019cb73847f78b2a187b5ba9b2e2910f9", "commit_date": "Sat Jan 28 21:53:56 2023 +0200", "commit_message": "add certifi to pyLoad's requirements", "files_name": ["setup.cfg", "src/pyload/core/config/default.cfg", "src/pyload/core/network/http/http_request.py"]}, {"commit_id": "353d6154df60bb7954f9ef60f60477e6d8603b14", "commit_date": "Sun Jan 29 00:28:30 2023 +0200", "commit_message": "fix typos", "files_name": ["src/pyload/core/api/__init__.py"]}, {"commit_id": "037abb3ebcf76e4d8753b46930b84f3ac5a18cbb", "commit_date": "Sun Jan 29 00:41:36 2023 +0200", "commit_message": "use better description", "files_name": ["src/pyload/core/managers/addon_manager.py"]}, {"commit_id": "1c80b54619100b01dc2f1fbbfb0750fc52ec3e50", "commit_date": "Sun Jan 29 21:04:17 2023 +0200", "commit_message": "bugfixes & cosmetic changes", "files_name": ["src/pyload/core/managers/plugin_manager.py"]}, {"commit_id": "0fd6971b74f4b595d3b2f268b29ae3392fb7087d", "commit_date": "Sun Jan 29 21:48:39 2023 +0200", "commit_message": "use better pattern", "files_name": ["src/pyload/core/managers/plugin_manager.py"]}, {"commit_id": "0e53f8688c491500431e15d610fa3fca49433477", "commit_date": "Tue Jan 31 23:04:48 2023 +0200", "commit_message": "implement ImportRedirector class (fixes #4248)", "files_name": ["src/pyload/core/managers/plugin_manager.py"]}, {"commit_id": "7abac2a63b50436c72fd9e72fb8776d3f2cf4241", "commit_date": "Wed Feb 1 21:18:07 2023 +0200", "commit_message": "fix #4248 (2)", "files_name": ["src/pyload/core/managers/plugin_manager.py"]}, {"commit_id": "3eb9a29303d028935c3aafeab2c02519776d2c96", "commit_date": "Wed Feb 1 21:20:14 2023 +0200", "commit_message": "fix some typos", "files_name": ["src/pyload/core/managers/addon_manager.py"]}, {"commit_id": "14f19d513076bacbaef6378fbff6480c5b0edc72", "commit_date": "Fri Feb 3 15:35:46 2023 +0200", "commit_message": "[SoundcloudCom] fix #4227", "files_name": ["src/pyload/plugins/downloaders/SoundcloudCom.py"]}, {"commit_id": "55cac43c04fdfe750721f77261e147728f90c3cf", "commit_date": "Sun Feb 5 01:09:07 2023 +0200", "commit_message": "fix https://github.com/pyload/pyload-bookmarklet/issues/10", "files_name": ["src/pyload/webui/app/blueprints/cnl_blueprint.py"]}, {"commit_id": "f998ba673d99bac5e99369181b4bf75717ece22e", "commit_date": "Tue Feb 7 03:05:30 2023 +0200", "commit_message": "replace probot no-response with GitHub action.", "files_name": [".github/workflows/no-response.yml"]}, {"commit_id": "d05b47a962c644af790b534c26d90c0e22aa7e8c", "commit_date": "Tue Feb 7 03:29:54 2023 +0200", "commit_message": "use more loose schedule", "files_name": [".github/workflows/no-response.yml"]}, {"commit_id": "d74ea2a59805b30f1648fa578fdc503ed5300930", "commit_date": "Tue Feb 7 20:14:50 2023 +0200", "commit_message": "test", "files_name": [".github/workflows/no-response.yml"]}, {"commit_id": "a8df4c73faa10719a4d66ff8d24c95c0ef191d12", "commit_date": "Tue Feb 7 20:47:44 2023 +0200", "commit_message": "test", "files_name": [".github/workflows/no-response.yml"]}, {"commit_id": "3704949195b452330489e45794a29e4b65abb0ed", "commit_date": "Tue Feb 7 21:04:22 2023 +0200", "commit_message": "update schedule", "files_name": [".github/workflows/no-response.yml"]}, {"commit_id": "83698e9b07f96563c895d328b38cd62c37e966e5", "commit_date": "Wed Feb 8 01:04:14 2023 +0200", "commit_message": "Log auth events (fix #500)", "files_name": ["src/pyload/webui/app/blueprints/api_blueprint.py", "src/pyload/webui/app/blueprints/app_blueprint.py"]}, {"commit_id": "0cb7dd31660e60f9f303d46ef5f130790f3995b0", "commit_date": "Thu Feb 9 01:11:16 2023 +0200", "commit_message": "move log to module", "files_name": ["src/pyload/webui/app/blueprints/api_blueprint.py", "src/pyload/webui/app/blueprints/app_blueprint.py"]}, {"commit_id": "4f99b3d98347d8b1dfb16d648899e8f6cc48a3b5", "commit_date": "Thu Feb 9 01:27:01 2023 +0200", "commit_message": "rename to inpage_counter", "files_name": ["src/pyload/webui/app/blueprints/app_blueprint.py"]}, {"commit_id": "40160b68ac5e58e6ccb2258c209cddbea1fd5e0b", "commit_date": "Sun Feb 12 02:59:52 2023 +0200", "commit_message": "new plugin [DropDownload]", "files_name": ["src/pyload/plugins/downloaders/DropDownload.py"]}, {"commit_id": "a472e16077a19d81142301532729a665e29a2d5f", "commit_date": "Sun Feb 12 03:44:36 2023 +0200", "commit_message": "bump version", "files_name": ["src/pyload/plugins/downloaders/DropDownload.py"]}, {"commit_id": "519e8d08f3ef20b77eae1730c097fc115baee3eb", "commit_date": "Sun Feb 12 23:10:38 2023 +0200", "commit_message": "some bugfixes and some typos", "files_name": ["src/pyload/core/managers/thread_manager.py", "src/pyload/core/threads/plugin_thread.py"]}, {"commit_id": "dabc3d8581738f477c91dc1e70f35e0420fb7684", "commit_date": "Tue Feb 14 00:43:28 2023 +0200", "commit_message": "remove unused maxtraffic", "files_name": ["src/pyload/core/__init__.py", "src/pyload/core/api/__init__.py", "src/pyload/core/datatypes/data.py", "src/pyload/plugins/base/account.py"]}, {"commit_id": "0e47d8e156044df94d77f49c76223c661ecf3b2c", "commit_date": "Fri Feb 17 03:29:33 2023 +0200", "commit_message": "fix #2211", "files_name": ["src/pyload/plugins/base/account.py", "src/pyload/plugins/base/plugin.py"]}, {"commit_id": "4107f110d3c365912b885d0481929661f250a2f0", "commit_date": "Fri Feb 17 03:44:02 2023 +0200", "commit_message": "remove unused import", "files_name": ["src/pyload/plugins/base/account.py"]}, {"commit_id": "b71be1a1f04d8d38c1f8f93fe6835b8647da463b", "commit_date": "Sat Feb 18 22:16:03 2023 +0200", "commit_message": "[DropDownload] sync version with stable", "files_name": ["src/pyload/plugins/downloaders/DropDownload.py"]}, {"commit_id": "5c67a158ca3132d8bf706f5f24e2f1a8afb4a7a9", "commit_date": "Sun Feb 19 21:09:04 2023 +0200", "commit_message": "[DdownloadCom] fix premium download", "files_name": ["src/pyload/plugins/accounts/DdownloadCom.py", "src/pyload/plugins/base/account.py", "src/pyload/plugins/downloaders/DdownloadCom.py"]}, {"commit_id": "c7673beff3d38dca76db2c1f639787660a5c5520", "commit_date": "Sun Feb 19 23:23:56 2023 +0200", "commit_message": "sync version with stable", "files_name": ["src/pyload/plugins/base/extractor.py"]}, {"commit_id": "2b5d542c12eb3aa876e7ae204f0e673a2e1aeb17", "commit_date": "Sun Feb 19 23:34:08 2023 +0200", "commit_message": "remove duplicate line", "files_name": ["src/pyload/plugins/base/downloader.py"]}, {"commit_id": "5ec83b21cfd6db12a2ab98a64d68cb909dc26fc7", "commit_date": "Wed Feb 22 00:09:33 2023 +0200", "commit_message": "fix #2211 (2)", "files_name": ["src/pyload/plugins/base/account.py"]}, {"commit_id": "650a64db025186bd1a44913c238d1fff03149891", "commit_date": "Sat Feb 25 17:24:53 2023 +0100", "commit_message": "[TurbobitCom] fix premium download (#4261)", "files_name": ["src/pyload/plugins/accounts/TurbobitNet.py"]}, {"commit_id": "ddfd3e00a874bc59f5aec576c972c5beb6c167be", "commit_date": "Sat Feb 25 18:37:57 2023 +0200", "commit_message": "bugfix", "files_name": ["src/pyload/plugins/accounts/TurbobitNet.py"]}, {"commit_id": "9eb41f0e7c7741b4baf3f0638e397dac5ad78d2c", "commit_date": "Mon Feb 27 02:04:38 2023 +0200", "commit_message": "[FilecryptCc] fix #4255", "files_name": ["src/pyload/plugins/decrypters/FilecryptCc.py"]}, {"commit_id": "fec8e7249a62b41ea4765526901b1906886b5c38", "commit_date": "Tue Feb 28 01:28:58 2023 +0200", "commit_message": "[ZippyshareCom] fix #4262", "files_name": ["src/pyload/plugins/downloaders/ZippyshareCom.py"]}, {"commit_id": "7475c6875923efd9d7dbbc80b6a7f5abe38ad361", "commit_date": "Tue Feb 28 23:54:11 2023 +0200", "commit_message": "[GoogledriveComFolder] fix #4221", "files_name": ["src/pyload/plugins/decrypters/GoogledriveComFolder.py"]}, {"commit_id": "e876209b9c80b0f6afed8beca428f5ea421f05eb", "commit_date": "Sat Mar 4 22:48:35 2023 +0200", "commit_message": "fix #4173", "files_name": ["src/pyload/webui/webserver_thread.py"]}, {"commit_id": "38be12874b121405de85e7ab68fab6a8e8a87a89", "commit_date": "Wed Mar 15 22:06:01 2023 +0200", "commit_message": "fix #4272", "files_name": ["src/pyload/webui/app/themes/modern/templates/captcha.html", "src/pyload/webui/app/themes/pyplex/templates/captcha.html"]}, {"commit_id": "d8946a5c5f6150f5867e16bda27bdcdbaa79a18c", "commit_date": "Sun Mar 19 23:19:15 2023 +0200", "commit_message": "update", "files_name": ["src/pyload/plugins/base/plugin.py"]}, {"commit_id": "4cde7c3b104adf2ec94d93e77313d8398d107aba", "commit_date": "Mon Mar 20 00:08:19 2023 +0200", "commit_message": "update", "files_name": ["src/pyload/core/network/request_factory.py"]}, {"commit_id": "4e877e6a8431fffde37a7b357936e7e809f5aef2", "commit_date": "Tue Mar 21 00:47:53 2023 +0200", "commit_message": "[XFSAccount] update", "files_name": ["src/pyload/plugins/base/xfs_account.py"]}, {"commit_id": "54d719e15870c8a78fa7f4db41c7f81faac60836", "commit_date": "Wed Mar 22 23:00:05 2023 +0200", "commit_message": "update", "files_name": ["src/pyload/webui/app/blueprints/app_blueprint.py"]}, {"commit_id": "55c681d0dba7fb96ce73c6b8ed785581cab271e9", "commit_date": "Wed Mar 22 23:59:56 2023 +0200", "commit_message": "fix #4261", "files_name": ["src/pyload/core/network/request_factory.py", "src/pyload/plugins/accounts/DdownloadCom.py", "src/pyload/plugins/accounts/TurbobitNet.py", "src/pyload/plugins/base/account.py", "src/pyload/plugins/base/hoster.py", "src/pyload/plugins/base/plugin.py"]}, {"commit_id": "68ec5b7afd58aa26bb8800432dcec64652df5c7b", "commit_date": "Mon Mar 27 23:12:25 2023 +0300", "commit_message": "add support site wildcard matching in http accounts (#4269)", "files_name": ["src/pyload/plugins/downloaders/Http.py"]}, {"commit_id": "25b76c5c1008b3023efe3a74bfabc352c0bf4470", "commit_date": "Sat Apr 1 14:21:26 2023 +0300", "commit_message": "add new downloader [FikperCom] (#4271)", "files_name": ["src/pyload/plugins/downloaders/FikperCom.py"]}, {"commit_id": "64565ffde105597c8b67c315cd3c442d5fc72eff", "commit_date": "Fri Apr 7 01:24:44 2023 +0300", "commit_message": " [ReCaptcha] fix issue with some sites", "files_name": ["src/pyload/plugins/anticaptchas/ReCaptcha.py"]}, {"commit_id": "1241cb33b380419421cba4bde92ae82912d9021c", "commit_date": "Fri Apr 7 02:42:39 2023 +0300", "commit_message": "bugfix with some sites", "files_name": ["src/pyload/webui/app/themes/modern/templates/js/base.js", "src/pyload/webui/app/themes/pyplex/templates/js/base.js"]}, {"commit_id": "72e72ed41e200289dba077c5fb08dbcb1eae4ad1", "commit_date": "Fri Apr 7 12:54:03 2023 +0300", "commit_message": "[ReCaptcha] sync version with stable", "files_name": ["src/pyload/plugins/anticaptchas/ReCaptcha.py"]}, {"commit_id": "f95411f537c9334e6c8b24213489fd00766209d8", "commit_date": "Fri Apr 7 13:02:37 2023 +0300", "commit_message": "add support for EasyuploadIo (closes #4268)", "files_name": ["src/pyload/plugins/downloaders/EasyuploadIo.py"]}, {"commit_id": "ec9f30f021f1751784dd441816fd1c96daaf0fe6", "commit_date": "Fri Apr 7 16:05:44 2023 +0300", "commit_message": "[EasyuploadIo] fix password protection detection", "files_name": ["src/pyload/plugins/downloaders/EasyuploadIo.py"]}, {"commit_id": "a43139685a31c8957258c9f6779cdfcb5b395327", "commit_date": "Sun Apr 9 02:06:51 2023 +0300", "commit_message": "cosmetic change", "files_name": ["src/pyload/core/utils/check.py"]}, {"commit_id": "be9bef5e0f721c30b2ebb81d644ca168a6bc5610", "commit_date": "Sun Apr 9 02:24:22 2023 +0300", "commit_message": "check if mapping", "files_name": ["src/pyload/core/network/http/http_request.py"]}, {"commit_id": "3e2c9985a8e120c59478275f5b7dffac0386b28b", "commit_date": "Wed Apr 12 01:09:19 2023 +0300", "commit_message": "fix issue when post=True", "files_name": ["src/pyload/core/network/http/http_request.py"]}, {"commit_id": "ccf247e5676fd98941d122a25c0c5e697090ba7f", "commit_date": "Thu Apr 13 03:42:38 2023 +0300", "commit_message": "cosmetic change in speed calculation", "files_name": ["src/pyload/core/network/http/http_download.py"]}, {"commit_id": "096ddf76c7514bf41dd9cab45aaf500e946144ed", "commit_date": "Sat Apr 15 22:10:32 2023 +0300", "commit_message": "cosmetic change in speed calculation (2)", "files_name": ["src/pyload/core/network/http/http_download.py"]}, {"commit_id": "ceeb27eff7b62641953bdcc86f7f1a92d2e179ec", "commit_date": "Tue Apr 18 00:40:37 2023 +0300", "commit_message": "[ClicknuploadCom] fix #4280", "files_name": ["src/pyload/plugins/downloaders/ClicknuploadCom.py"]}, {"commit_id": "ecc97d43401fe9caf644c2d348c0d8ba213d4511", "commit_date": "Tue Apr 18 01:54:14 2023 +0300", "commit_message": "[GoogledriveCom] fix #4274", "files_name": ["src/pyload/plugins/downloaders/GoogledriveCom.py"]}, {"commit_id": "50370bbcf4179906c62c026902491af2b0b7ddaf", "commit_date": "Sat Apr 22 23:39:59 2023 +0300", "commit_message": "update api_download()", "files_name": []}], "parents": [{"commit_id_before": "3eeecf549ad09493ed311f16338eca9aed581494", "url_before": "https://api.github.com/repos/pyload/pyload/commits/3eeecf549ad09493ed311f16338eca9aed581494", "html_url_before": "https://github.com/pyload/pyload/commit/3eeecf549ad09493ed311f16338eca9aed581494"}], "details": [{"raw_url": "https://github.com/pyload/pyload/raw/46d75a3087f3237d06530d55998938e2e2bda6bd/src%2Fpyload%2Fwebui%2Fapp%2Fthemes%2Fmodern%2Fstatic%2Fcss%2Fbase.css", "code": "html {\n  height: 100%;\n}\n\nbody {\n  position: absolute;\n  width: 100%;\n  min-height: calc(100% - 26px);\n  color: #333;\n}\n\n.left {\n  float: left;\n}\n\n.clear {\n  clear: both;\n}\n\n::-ms-reveal,\n::-ms-clear {\n  display: none;\n}\n\nhr {\n  border-top: 0;\n  padding-bottom: 1px;\n}\n\n.breakWords {\n  word-wrap: break-word;\n}\n\n.noPadding {\n  padding: 0;\n}\n\n.width100 {\n  width: 100%;\n}\n\n@media (min-width: 768px) {\n  .col-sm-auto {\n    width: auto;\n  }\n}\n\n@media (min-width: 992px) {\n  .col-md-auto {\n    width: auto;\n  }\n}\n\n@media (min-width: 1200px) {\n  .col-lg-auto {\n    width: auto;\n  }\n}\n\n.ui-resizable-se {\n  right: 0;\n  bottom: 0;\n}\n\n.navbar-static-bottom {\n@extend . navbar-fixed-bottom;\n  position: absolute;\n  border-width: 1px 0 0;\n  border-radius: 0;\n  min-height: 25px;\n  height: 25px;\n  line-height: 25px;\n  font-size: 11px;\n  margin-bottom: 0;\n  bottom: -25px;\n  left: 0;\n  background-color: #F8F8F8;\n  border-color: #E7E7E7;\n}\n\noptgroup,\nselect,\ntextarea,\ninput[type=\"text\"],\ninput[type=\"password\"],\ninput[type=\"datetime\"],\ninput[type=\"datetime-local\"],\ninput[type=\"date\"],\ninput[type=\"month\"],\ninput[type=\"time\"],\ninput[type=\"week\"],\ninput[type=\"number\"],\ninput[type=\"email\"],\ninput[type=\"url\"],\ninput[type=\"search\"],\ninput[type=\"tel\"],\ninput[type=\"color\"],\n.uneditable-input {\n  display: block;\n  margin: 0 0 5px 0;\n  width: 100%;\n  height: 34px;\n  padding: 6px 12px;\n  font-size: 14px;\n  line-height: 1.42857143;\n}\n\nselect {\n  border: 1px solid #ccc;\n  border-top-left-radius: 4px;\n  border-bottom-left-radius: 4px;\n}\n\nselect.form-control,\ntextarea.form-control {\n  height: 100%;\n  margin: 5px 0 5px 0;\n  padding: 6px 12px;\n  resize: none;\n}\n\n.btn-group .btn + .btn,\n.btn-group .btn + .btn-group,\n.btn-group .btn-group + .btn,\n.btn-group .btn-group + .btn-group {\n  margin-left: 0;\n}\n\n.nav > li.selected > a,\n.nav > li.selected > a:focus {\n  background-color: #E0E0E0;\n  color: #333;\n}\n.nav > li.selected > a:hover {\n  color: #333;\n}\n\n.nav-tabs > li.active > a,\n.nav-tabs > li.active > a:focus,\n.nav-tabs > li.active > a:hover {\n  color: #337AB7;\n  background-color: #E0E0E0;\n}\n\n.btn-group {\n  border-top: 1px solid transparent !important;\n}\n\n.navbar {\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  -o-user-select: none;\n  user-select: none;\n}\n\n.modal-body,\n.modal-header {\n  overflow: auto;\n}\n\n.modal-footer {\n  padding: 6px 12px;\n  border-top: none;\n}\n\n.btn-light {\n  color: #333;\n  background-color: #F0F0F0;\n  border-color: #ccc;\n}\n\n.btn-light:hover,\n.btn-light:focus,\n.btn-light.focus,\n.btn-light:active,\n.btn-light.active,\n.open > .dropdown-toggle.btn-light {\n  color: #333;\n  background-color: #F5F5F5;\n  border-color: #ADADAD;\n}\n\n.btn-light:active,\n.btn-light.active,\n.open > .dropdown-toggle.btn-light {\n  background-image: none;\n}\n\n.btn-light.disabled,\n.btn-light[disabled],\nfieldset[disabled] .btn-light,\n.btn-light.disabled:hover,\n.btn-light[disabled]:hover,\nfieldset[disabled] .btn-light:hover,\n.btn-light.disabled:focus,\n.btn-light[disabled]:focus,\nfieldset[disabled] .btn-light:focus,\n.btn-light.disabled.focus,\n.btn-light[disabled].focus,\nfieldset[disabled] .btn-light.focus,\n.btn-light.disabled:active,\n.btn-light[disabled]:active,\nfieldset[disabled] .btn-light:active,\n.btn-light.disabled.active,\n.btn-light[disabled].active,\nfieldset[disabled] .btn-light.active {\n  background-color: #fff;\n  border-color: #ccc;\n}\n\n.btn-light .badge {\n  color: #fff;\n  background-color: #333;\n}\n\n.btn-form {\n  padding: 4px 12px;\n  margin: 5px 0 5px 0;\n  font-size: 14px;\n  font-weight: normal;\n  height: 32px;\n  line-height: 1.42857143;\n  text-align: center;\n  white-space: nowrap;\n  vertical-align: middle;\n  -ms-touch-action: manipulation;\n  touch-action: manipulation;\n  cursor: pointer;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  background-image: none;\n  background-color: #F5F5F5;\n  color: #777;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  outline: none;\n  -webkit-appearance: none;\n}\n\n.btn-form:focus,\n.btn-form:hover {\n  color: #333;\n  background-color: #E0E0E0;\n}\n\n.input-group-btn > .btn-form {\n  margin: 0;\n  height: 34px;\n  background-color: #F5F5F5;\n}\n\n.input-group-btn > .btn-form:focus,\n.input-group-btn > .btn-form:hover {\n  color: #333;\n  background-color: #E0E0E0;\n}\n\n.text-ellipsis {\n  width: 100%;\n  display: inline-block;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.noselect {\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  -o-user-select: none;\n  user-select: none;\n}\n\n.btn.disabled,\n.btn[disabled],\nfieldset[disabled] .btn {\n  pointer-events: auto;\n}\n\n.navbar-nav .divider-vertical {\n  min-height: 32px;\n  margin: 6px 3px 0 3px;\n  border-left: 1px solid #CACACA;\n}\n\n.modal-dialog {\n    margin-top: 10px;\n}\n", "code_before": "html {\n  height: 100%;\n}\n\nbody {\n  position: absolute;\n  width: 100%;\n  min-height: calc(100% - 26px);\n  color: #333;\n}\n\n.left {\n  float: left;\n}\n\n.clear {\n  clear: both;\n}\n\n::-ms-reveal,\n::-ms-clear {\n  display: none;\n}\n\nhr {\n  border-top: 0;\n  padding-bottom: 1px;\n}\n\n.breakWords {\n  word-wrap: break-word;\n}\n\n.noPadding {\n  padding: 0;\n}\n\n.width100 {\n  width: 100%;\n}\n\n@media (min-width: 768px) {\n  .col-sm-auto {\n    width: auto;\n  }\n}\n\n@media (min-width: 992px) {\n  .col-md-auto {\n    width: auto;\n  }\n}\n\n@media (min-width: 1200px) {\n  .col-lg-auto {\n    width: auto;\n  }\n}\n\n.ui-resizable-se {\n  right: 0;\n  bottom: 0;\n}\n\n.navbar-static-bottom {\n@extend . navbar-fixed-bottom;\n  position: absolute;\n  border-width: 1px 0 0;\n  border-radius: 0;\n  min-height: 25px;\n  height: 25px;\n  line-height: 25px;\n  font-size: 11px;\n  margin-bottom: 0;\n  bottom: -25px;\n  left: 0;\n  background-color: #F8F8F8;\n  border-color: #E7E7E7;\n}\n\noptgroup,\nselect,\ntextarea,\ninput[type=\"text\"],\ninput[type=\"password\"],\ninput[type=\"datetime\"],\ninput[type=\"datetime-local\"],\ninput[type=\"date\"],\ninput[type=\"month\"],\ninput[type=\"time\"],\ninput[type=\"week\"],\ninput[type=\"number\"],\ninput[type=\"email\"],\ninput[type=\"url\"],\ninput[type=\"search\"],\ninput[type=\"tel\"],\ninput[type=\"color\"],\n.uneditable-input {\n  display: block;\n  margin: 0 0 5px 0;\n  width: 100%;\n  height: 34px;\n  padding: 6px 12px;\n  font-size: 14px;\n  line-height: 1.42857143;\n}\n\nselect {\n  border: 1px solid #ccc;\n  border-top-left-radius: 4px;\n  border-bottom-left-radius: 4px;\n}\n\nselect.form-control,\ntextarea.form-control {\n  height: 100%;\n  margin: 5px 0 5px 0;\n  padding: 6px 12px;\n  resize: none;\n}\n\n.btn-group .btn + .btn,\n.btn-group .btn + .btn-group,\n.btn-group .btn-group + .btn,\n.btn-group .btn-group + .btn-group {\n  margin-left: 0;\n}\n\n.nav > li.selected > a,\n.nav > li.selected > a:focus {\n  background-color: #E0E0E0;\n  color: #333;\n}\n.nav > li.selected > a:hover {\n  color: #333;\n}\n\n.nav-tabs > li.active > a,\n.nav-tabs > li.active > a:focus,\n.nav-tabs > li.active > a:hover {\n  color: #337AB7;\n  background-color: #E0E0E0;\n}\n\n.btn-group {\n  border-top: 1px solid transparent !important;\n}\n\n.navbar {\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  -o-user-select: none;\n  user-select: none;\n}\n\n.modal-body,\n.modal-header {\n  overflow: auto;\n}\n\n.modal-footer {\n  padding: 6px 12px;\n  border-top: none;\n}\n\n.btn-light {\n  color: #333;\n  background-color: #F0F0F0;\n  border-color: #ccc;\n}\n\n.btn-light:hover,\n.btn-light:focus,\n.btn-light.focus,\n.btn-light:active,\n.btn-light.active,\n.open > .dropdown-toggle.btn-light {\n  color: #333;\n  background-color: #F5F5F5;\n  border-color: #ADADAD;\n}\n\n.btn-light:active,\n.btn-light.active,\n.open > .dropdown-toggle.btn-light {\n  background-image: none;\n}\n\n.btn-light.disabled,\n.btn-light[disabled],\nfieldset[disabled] .btn-light,\n.btn-light.disabled:hover,\n.btn-light[disabled]:hover,\nfieldset[disabled] .btn-light:hover,\n.btn-light.disabled:focus,\n.btn-light[disabled]:focus,\nfieldset[disabled] .btn-light:focus,\n.btn-light.disabled.focus,\n.btn-light[disabled].focus,\nfieldset[disabled] .btn-light.focus,\n.btn-light.disabled:active,\n.btn-light[disabled]:active,\nfieldset[disabled] .btn-light:active,\n.btn-light.disabled.active,\n.btn-light[disabled].active,\nfieldset[disabled] .btn-light.active {\n  background-color: #fff;\n  border-color: #ccc;\n}\n\n.btn-light .badge {\n  color: #fff;\n  background-color: #333;\n}\n\n.btn-form {\n  padding: 4px 12px;\n  margin: 5px 0 5px 0;\n  font-size: 14px;\n  font-weight: normal;\n  height: 32px;\n  line-height: 1.42857143;\n  text-align: center;\n  white-space: nowrap;\n  vertical-align: middle;\n  -ms-touch-action: manipulation;\n  touch-action: manipulation;\n  cursor: pointer;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  background-image: none;\n  background-color: #F5F5F5;\n  color: #777;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  outline: none;\n  -webkit-appearance: none;\n}\n\n.btn-form:focus,\n.btn-form:hover {\n  color: #333;\n  background-color: #E0E0E0;\n}\n\n.input-group-btn > .btn-form {\n  margin: 0;\n  height: 34px;\n  background-color: #F5F5F5;\n}\n\n.input-group-btn > .btn-form:focus,\n.input-group-btn > .btn-form:hover {\n  color: #333;\n  background-color: #E0E0E0;\n}\n\n.text-ellipsis {\n  width: 100%;\n  display: inline-block;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.noselect {\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  -o-user-select: none;\n  user-select: none;\n}\n\n.btn.disabled,\n.btn[disabled],\nfieldset[disabled] .btn {\n  pointer-events: auto;\n}\n\n.navbar-nav .divider-vertical {\n  min-height: 32px;\n  margin: 6px 3px 0 3px;\n  border-left: 1px solid #CACACA;\n}\n\n.modal-dialog {\n    margin-top: 10px;\n}\n\n.modal-dialog {\n    margin-top: 10px;\n}\n", "patch": "@@ -289,7 +289,3 @@ fieldset[disabled] .btn {\n .modal-dialog {\n     margin-top: 10px;\n }\n-\n-.modal-dialog {\n-    margin-top: 10px;\n-}", "file_path": "files/2023_1/225", "file_language": "css", "file_name": "src/pyload/webui/app/themes/modern/static/css/base.css", "outdated_file_modify": 0, "outdated_file_before": 0, "outdated_file_after": 0}, {"raw_url": "https://github.com/pyload/pyload/raw/46d75a3087f3237d06530d55998938e2e2bda6bd/src%2Fpyload%2Fwebui%2Fapp%2Fthemes%2Fmodern%2Ftemplates%2Fjs%2Fpackages.js", "code": "{% autoescape true %}\n\nfunction PackageUI (type){\n    var packages = [];\n    var thisObject;\n    this.initialize = function(type) {\n        this.type = type;\n        thisObject = this;\n\n        $(\"#del_finished\").click(this.deleteFinished);\n        $(\"#restart_failed\").click(this.restartFailed);\n        this.parsePackages();\n\n    };\n\n    this.parsePackages = function () {\n       var $packageList = $(\"#package-list\");\n       $packageList.children(\"li\").each(function(ele) {\n            var id = this.id.match(/[0-9]+/);\n            packages.push(new Package(thisObject, id, this));\n        });\n        $packageList.sortable({\n            handle: \".progress\",\n            axis: \"y\",\n            cursor: \"grabbing\",\n            start: function(event, ui) {\n                $(this).attr('data-previndex', ui.item.index());\n            },\n            stop: function(event, ui) {\n                let newIndex = ui.item.index();\n                let oldIndex = $(this).attr('data-previndex');\n                $(this).removeAttr('data-previndex');\n                if (newIndex === oldIndex) {\n                    return false;\n                }\n                indicateLoad();\n                $.get({\n                    url: \"{{url_for('json.package_order')}}\",\n                    data: {pid: ui.item.data('pid'), pos: newIndex},\n                    traditional: true,\n                    success: function () {\n                        indicateFinish();\n                        return true;\n                    }\n                }).fail(function () {\n                    indicateFail();\n                    return false;\n                });\n          }\n        });\n    };\n\n    this.deleteFinished = function () {\n        indicateLoad();\n        $.get(\"{{url_for('api.rpc', func='delete_finished')}}\", function(data) {\n            if (data.length > 0) {\n                window.location.reload();\n            } else {\n                $.each(packages, function (pack) {\n                    this.close();\n                });\n            }\n            indicateSuccess();\n        }).fail(function () {\n            indicateFail();\n        });\n    };\n\n    this.restartFailed = function () {\n        indicateLoad();\n        $.get(\"{{url_for('api.rpc', func='restart_failed')}}\", function(data) {\n            if (data.length > 0) {\n                $.each(packages,function(pack) {\n                    this.close();\n                });\n            }\n            indicateSuccess();\n        }).fail(function () {\n            indicateFail();\n        });\n    };\n\n    this.initialize(type);\n}\n\nfunction Package (ui, id, ele){\n    // private variables\n    var linksLoaded = false;\n    var thisObject;\n    var buttons;\n    var name;\n    var password;\n    var folder;\n\n    this.initialize = function () {\n        thisObject = this;\n        if (!ele) {\n            this.createElement();\n        } else {\n            jQuery.data(ele,\"pid\", id);\n            this.parseElement();\n        }\n\n        var pname = $(ele).find('.packagename');\n\n        buttons = $(ele).find('.buttons');\n        buttons.css(\"opacity\", 0);\n\n        $(pname).mouseenter(function(e) {\n            $(this).find('.buttons').fadeTo('fast', 1)\n        });\n\n        $(pname).mouseleave( function(e) {\n            $(this).find('.buttons').fadeTo('fast', 0)\n        });\n    };\n\n    this.createElement = function () {\n        alert(\"create\");\n    };\n\n    this.parseElement = function () {\n        var imgs = $(ele).find('span');\n\n        name = $(ele).find('.name');\n        folder =  $(ele).find('.folder');\n        password = $(ele).find('.password');\n\n        $(imgs[3]).click(this.deletePackage);\n        $(imgs[4]).click(this.restartPackage);\n        $(imgs[5]).click(this.editPackage);\n        $(imgs[6]).click(this.movePackage);\n        $(imgs[7]).click(this.editOrder);\n\n        $(ele).find('.packagename').click(this.toggle);\n    };\n\n    this.loadLinks = function () {\n        indicateLoad();\n        $.get({\n            url: \"{{url_for('json.package')}}\",\n            data: {id: id},\n            traditional: true,\n            success: thisObject.createLinks\n        }).fail(function () {\n            indicateFail();\n            return false;\n        }).done(function() {\n            return true;\n        });\n    };\n\n    this.createLinks = function(data) {\n        var ul = $(\"#sort_children_\" + id[0]);\n        ul.html(\"\");\n        $.each(data.links, function(key, link) {      // data.links.each(\n            link.id = link.fid;\n            var li = document.createElement(\"li\");\n            $(li).css(\"margin-left\",0);\n\n            if (link.status === 0)\n                link.icon = 'glyphicon glyphicon-ok';\n            else if (link.status === 2 || link.status === 3)\n                link.icon = 'glyphicon glyphicon-time';\n            else if (link.status ===  9 || link.status === 1)\n                link.icon = 'glyphicon glyphicon-ban-circle';\n            else if (link.status === 5)\n                link.icon = 'glyphicon glyphicon-time';\n            else if (link.status === 8)\n                link.icon = 'glyphicon glyphicon-exclamation-sign';\n            else if (link.status === 4)\n                link.icon = 'glyphicon glyphicon-arrow-right';\n            else if (link.status ===  11 || link.status === 13)\n                link.icon = 'glyphicon glyphicon-cog';\n            else\n                link.icon = 'glyphicon glyphicon-cloud-download';\n\n            var html = \"<span class='child_status'><span style='margin-right: 2px;color: #337ab7;' class='\" + link.icon + \"'></span></span>\\n\" +\n                       \"<span style='font-size: 16px; font-weight: bold;'><a onclick='return false' href='\" + link.url + \"'>\" + link.name + \"</a></span><br/>\" +\n                       \"<div class='child_secrow' style='margin-left: 21px; margin-bottom: 7px; border-radius: 4px;'>\" +\n                       \"<span class='child_status' style='font-size: 12px; color:#555; padding-left: 5px;'>\" + link.statusmsg + \"</span>&nbsp;\" + link.error + \"&nbsp;\" +\n                       \"<span class='child_status' style='font-size: 12px; color:#555;'>\" + link.format_size + \"</span>\" +\n                       \"<span class='child_status' style='font-size: 12px; color:#555;'> \" + link.plugin + \"</span>&nbsp;&nbsp;\" +\n                       \"<span class='glyphicon glyphicon-trash' title='{{_('Delete Link')}}' style='cursor: pointer;  font-size: 12px; color:#333;' ></span>&nbsp;&nbsp;\" +\n                       \"<span class='glyphicon glyphicon-repeat' title='{{_('Restart Link')}}' style='cursor: pointer; font-size: 12px; color:#333;' ></span></div>\";\n\n            var div = document.createElement(\"div\");\n            $(div).attr(\"id\", \"file_\" + link.id);\n            $(div).css(\"padding-left\", \"30px\");\n            $(div).css(\"cursor\", \"grab\");\n            $(div).addClass(\"child\");\n            $(div).html(html);\n\n            jQuery.data(li,\"lid\", link.id);\n\n            li.appendChild(div);\n            $(ul)[0].appendChild(li);\n        });\n\n        thisObject.registerLinkEvents();\n        linksLoaded = true;\n        indicateFinish();\n        thisObject.toggle();\n    };\n\n    this.registerLinkEvents = function () {\n        $(ele).find('.children').children('ul').children(\"li\").each(function(child) {\n            var lid = $(this).find('.child').attr('id').match(/[0-9]+/);\n            var imgs = $(this).find('.child_secrow span');\n            $(imgs[3]).bind('click',{ lid: lid}, function(e) {\n                $.get(\"{{url_for('api.rpc', func='delete_files')}}/[\" + lid + \"]\", function () {\n                    $('#file_' + lid).remove()\n                }).fail(function () {\n                    indicateFail();\n                });\n            });\n\n            $(imgs[4]).bind('click',{ lid: lid},function(e) {\n                $.get(\"{{url_for('api.rpc', func='restart_file')}}/\" + lid, function () {\n                    var ele1 = $('#file_' + lid);\n                    var imgs1 = $(ele1).find(\".glyphicon\");\n                    $(imgs1[0]).attr( \"class\", \"glyphicon glyphicon-time text-info\");\n                    var spans = $(ele1).find(\".child_status\");\n                    $(spans[1]).html(\"{{_('queued')}}\");\n                    indicateSuccess();\n                }).fail(function () {\n                    indicateFail();\n                });\n            });\n        });\n\n\n        $(ele).find('.children').children('ul').sortable({\n            handle: \".child\",\n            axis: \"y\",\n            cursor: \"grabbing\",\n            start: function(e, ui) {\n                $(this).attr('data-previndex', ui.item.index());\n            },\n            stop: function(event, ui) {\n                var newIndex = ui.item.index();\n                var oldIndex = $(this).attr('data-previndex');\n                $(this).removeAttr('data-previndex');\n                if (newIndex === oldIndex) {\n                    return false;\n                }\n                indicateLoad();\n                $.get({\n                    url: \"{{url_for('json.link_order')}}\",\n                    data: {fid: ui.item.data('lid'), pos: newIndex},\n                    traditional: true,\n                    success: function () {\n                        indicateFinish();\n                        return true;\n                    }\n                }).fail(function () {\n                    indicateFail();\n                    return false;\n                });\n            }\n        });\n    };\n\n    this.toggle = function () {\n        var icon = $(ele).find('.packageicon');\n        var child = $(ele).find('.children');\n        if (child.css('display') === \"block\") {\n            $(child).fadeOut();\n            icon.removeClass('glyphicon-folder-open');\n            icon.addClass('glyphicon-folder-close');\n        } else {\n            if (!linksLoaded) {\n                if (!thisObject.loadLinks()) {\n                    return;\n                }\n            } else {\n                $(child).fadeIn();\n            }\n            icon.removeClass('glyphicon-folder-close');\n            icon.addClass('glyphicon-folder-open');\n        }\n    };\n\n    this.deletePackage = function(event) {\n        indicateLoad();\n        $.get(\"{{url_for('api.rpc', func='delete_packages')}}/[\" + id + \"]\", function () {\n            $(ele).remove();\n            indicateFinish();\n        }).fail(function () {\n            indicateFail();\n        });\n\n        event.stopPropagation();\n        event.preventDefault();\n    };\n\n    this.restartPackage = function(event) {\n        indicateLoad();\n        $.get(\"{{url_for('api.rpc', func='restart_package')}}/\" + id, function () {\n            thisObject.close();\n            indicateSuccess();\n        }).fail(function () {\n            indicateFail();\n        });\n        event.stopPropagation();\n        event.preventDefault();\n    };\n\n    this.close = function () {\n        var child = $(ele).find('.children');\n        if (child.css('display') === \"block\") {\n            $(child).fadeOut();\n            var icon = $(ele).find('.packageicon');\n            icon.removeClass('glyphicon-folder-open');\n            icon.addClass('glyphicon-folder-close');\n        }\n        var ul = $(\"#sort_children_\" + id);\n        $(ul).html(\"\");\n        linksLoaded = false;\n    };\n\n    this.movePackage = function(event) {\n        indicateLoad();\n        $.get({\n            url: \"{{url_for('json.move_package')}}\",\n            data: {id: id, dest: ((ui.type + 1) % 2)},\n            traditional: true,\n            success: function () {\n                $(ele).remove();\n                indicateFinish();\n            }\n        }).fail(function () {\n            indicateFail();\n        });\n        event.stopPropagation();\n        event.preventDefault();\n    };\n\n    this.editOrder = function(event) {\n        indicateLoad();\n        $.get({\n            url: \"{{url_for('json.package')}}\",\n            success: function(data){\n                length = data.links.length;\n                for (i = 1; i <= length/2; i++){\n                    $.get({\n                        url: \"{{url_for('json.link_order')}}\",\n                        data: {fid: data.links[length-i].fid, pos: i-1},\n                        traditional: true,\n                    }).fail(function () {\n                        indicateFail();\n                    });\n                }\n            }\n        });\n        indicateFinish();\n        thisObject.close();\n        event.stopPropagation();\n        event.preventDefault();\n    };\n\n\n    this.editPackage = function(event) {\n        event.stopPropagation();\n        event.preventDefault();\n        $(\"#pack_form\").off(\"submit\").submit(thisObject.savePackage);\n\n        $(\"#pack_id\").val(id[0]);\n        $(\"#pack_name\").val(name.text());\n        $(\"#pack_folder\").val(folder.text());\n        $(\"#pack_pws\").val(password.text());\n        $('#pack_box').modal('show');\n    };\n\n    this.savePackage = function(event) {\n        $.ajax({\n            url: \"{{url_for('json.edit_package')}}\",\n            type: 'post',\n            dataType: 'json',\n            data: $('#pack_form').serialize()\n        });\n        event.preventDefault();\n        name.text( $(\"#pack_name\").val());\n        folder.text( $(\"#pack_folder\").val());\n        password.text($(\"#pack_pws\").val());\n        $('#pack_box').modal('hide');\n    };\n\n    this.initialize();\n}\n\n{% endautoescape %}\n", "code_before": "{% autoescape true %}\n\nfunction PackageUI (type){\n    var packages = [];\n    var thisObject;\n    this.initialize = function(type) {\n        this.type = type;\n        thisObject = this;\n\n        $(\"#del_finished\").click(this.deleteFinished);\n        $(\"#restart_failed\").click(this.restartFailed);\n        this.parsePackages();\n\n    };\n\n    this.parsePackages = function () {\n       var $packageList = $(\"#package-list\");\n       $packageList.children(\"li\").each(function(ele) {\n            var id = this.id.match(/[0-9]+/);\n            packages.push(new Package(thisObject, id, this));\n        });\n        $packageList.sortable({\n            handle: \".progress\",\n            axis: \"y\",\n            cursor: \"grabbing\",\n            start: function(event, ui) {\n                $(this).attr('data-previndex', ui.item.index());\n            },\n            stop: function(event, ui) {\n                let newIndex = ui.item.index();\n                let oldIndex = $(this).attr('data-previndex');\n                $(this).removeAttr('data-previndex');\n                if (newIndex === oldIndex) {\n                    return false;\n                }\n                indicateLoad();\n                $.get({\n                    url: \"{{url_for('json.package_order')}}\",\n                    data: {pid: ui.item.data('pid'), pos: newIndex},\n                    traditional: true,\n                    success: function () {\n                        indicateFinish();\n                        return true;\n                    }\n                }).fail(function () {\n                    indicateFail();\n                    return false;\n                });\n          }\n        });\n    };\n\n    this.deleteFinished = function () {\n        indicateLoad();\n        $.get(\"{{url_for('api.rpc', func='delete_finished')}}\", function(data) {\n            if (data.length > 0) {\n                window.location.reload();\n            } else {\n                $.each(packages, function (pack) {\n                    this.close();\n                });\n            }\n            indicateSuccess();\n        }).fail(function () {\n            indicateFail();\n        });\n    };\n\n    this.restartFailed = function () {\n        indicateLoad();\n        $.get(\"{{url_for('api.rpc', func='restart_failed')}}\", function(data) {\n            if (data.length > 0) {\n                $.each(packages,function(pack) {\n                    this.close();\n                });\n            }\n            indicateSuccess();\n        }).fail(function () {\n            indicateFail();\n        });\n    };\n\n    this.initialize(type);\n}\n\nfunction Package (ui, id, ele){\n    // private variables\n    var linksLoaded = false;\n    var thisObject;\n    var buttons;\n    var name;\n    var password;\n    var folder;\n\n    this.initialize = function () {\n        thisObject = this;\n        if (!ele) {\n            this.createElement();\n        } else {\n            jQuery.data(ele,\"pid\", id);\n            this.parseElement();\n        }\n\n        var pname = $(ele).find('.packagename');\n\n        buttons = $(ele).find('.buttons');\n        buttons.css(\"opacity\", 0);\n\n        $(pname).mouseenter(function(e) {\n            $(this).find('.buttons').fadeTo('fast', 1)\n        });\n\n        $(pname).mouseleave( function(e) {\n            $(this).find('.buttons').fadeTo('fast', 0)\n        });\n    };\n\n    this.createElement = function () {\n        alert(\"create\");\n    };\n\n    this.parseElement = function () {\n        var imgs = $(ele).find('span');\n\n        name = $(ele).find('.name');\n        folder =  $(ele).find('.folder');\n        password = $(ele).find('.password');\n\n        $(imgs[3]).click(this.deletePackage);\n        $(imgs[4]).click(this.restartPackage);\n        $(imgs[5]).click(this.editPackage);\n        $(imgs[6]).click(this.movePackage);\n        $(imgs[7]).click(this.editOrder);\n\n        $(ele).find('.packagename').click(this.toggle);\n    };\n\n    this.loadLinks = function () {\n        indicateLoad();\n        $.get({\n            url: \"{{url_for('json.package')}}\",\n            data: {id: id},\n            traditional: true,\n            success: thisObject.createLinks\n        }).fail(function () {\n            indicateFail();\n            return false;\n        }).done(function() {\n            return true;\n        });\n    };\n\n    this.createLinks = function(data) {\n        var ul = $(\"#sort_children_\" + id[0]);\n        ul.html(\"\");\n        $.each(data.links, function(key, link) {      // data.links.each(\n            link.id = link.fid;\n            var li = document.createElement(\"li\");\n            $(li).css(\"margin-left\",0);\n\n            if (link.status === 0)\n                link.icon = 'glyphicon glyphicon-ok';\n            else if (link.status === 2 || link.status === 3)\n                link.icon = 'glyphicon glyphicon-time';\n            else if (link.status ===  9 || link.status === 1)\n                link.icon = 'glyphicon glyphicon-ban-circle';\n            else if (link.status === 5)\n                link.icon = 'glyphicon glyphicon-time';\n            else if (link.status === 8)\n                link.icon = 'glyphicon glyphicon-exclamation-sign';\n            else if (link.status === 4)\n                link.icon = 'glyphicon glyphicon-arrow-right';\n            else if (link.status ===  11 || link.status === 13)\n                link.icon = 'glyphicon glyphicon-cog';\n            else\n                link.icon = 'glyphicon glyphicon-cloud-download';\n\n            var html = \"<span class='child_status'><span style='margin-right: 2px;color: #337ab7;' class='\" + link.icon + \"'></span></span>\\n\" +\n                       \"<span style='font-size: 16px; font-weight: bold;'><a href='\" + link.url + \"'>\" + link.name + \"</a></span><br/>\" +\n                       \"<div class='child_secrow' style='margin-left: 21px; margin-bottom: 7px; border-radius: 4px;'>\" +\n                       \"<span class='child_status' style='font-size: 12px; color:#555; padding-left: 5px;'>\" + link.statusmsg + \"</span>&nbsp;\" + link.error + \"&nbsp;\" +\n                       \"<span class='child_status' style='font-size: 12px; color:#555;'>\" + link.format_size + \"</span>\" +\n                       \"<span class='child_status' style='font-size: 12px; color:#555;'> \" + link.plugin + \"</span>&nbsp;&nbsp;\" +\n                       \"<span class='glyphicon glyphicon-trash' title='{{_('Delete Link')}}' style='cursor: pointer;  font-size: 12px; color:#333;' ></span>&nbsp;&nbsp;\" +\n                       \"<span class='glyphicon glyphicon-repeat' title='{{_('Restart Link')}}' style='cursor: pointer; font-size: 12px; color:#333;' ></span></div>\";\n\n            var div = document.createElement(\"div\");\n            $(div).attr(\"id\", \"file_\" + link.id);\n            $(div).css(\"padding-left\", \"30px\");\n            $(div).css(\"cursor\", \"grab\");\n            $(div).addClass(\"child\");\n            $(div).html(html);\n\n            jQuery.data(li,\"lid\", link.id);\n\n            li.appendChild(div);\n            $(ul)[0].appendChild(li);\n        });\n\n        thisObject.registerLinkEvents();\n        linksLoaded = true;\n        indicateFinish();\n        thisObject.toggle();\n    };\n\n    this.registerLinkEvents = function () {\n        $(ele).find('.children').children('ul').children(\"li\").each(function(child) {\n            var lid = $(this).find('.child').attr('id').match(/[0-9]+/);\n            var imgs = $(this).find('.child_secrow span');\n            $(imgs[3]).bind('click',{ lid: lid}, function(e) {\n                $.get(\"{{url_for('api.rpc', func='delete_files')}}/[\" + lid + \"]\", function () {\n                    $('#file_' + lid).remove()\n                }).fail(function () {\n                    indicateFail();\n                });\n            });\n\n            $(imgs[4]).bind('click',{ lid: lid},function(e) {\n                $.get(\"{{url_for('api.rpc', func='restart_file')}}/\" + lid, function () {\n                    var ele1 = $('#file_' + lid);\n                    var imgs1 = $(ele1).find(\".glyphicon\");\n                    $(imgs1[0]).attr( \"class\", \"glyphicon glyphicon-time text-info\");\n                    var spans = $(ele1).find(\".child_status\");\n                    $(spans[1]).html(\"{{_('queued')}}\");\n                    indicateSuccess();\n                }).fail(function () {\n                    indicateFail();\n                });\n            });\n        });\n\n\n        $(ele).find('.children').children('ul').sortable({\n            handle: \".child\",\n            axis: \"y\",\n            cursor: \"grabbing\",\n            start: function(e, ui) {\n                $(this).attr('data-previndex', ui.item.index());\n            },\n            stop: function(event, ui) {\n                var newIndex = ui.item.index();\n                var oldIndex = $(this).attr('data-previndex');\n                $(this).removeAttr('data-previndex');\n                if (newIndex === oldIndex) {\n                    return false;\n                }\n                indicateLoad();\n                $.get({\n                    url: \"{{url_for('json.link_order')}}\",\n                    data: {fid: ui.item.data('lid'), pos: newIndex},\n                    traditional: true,\n                    success: function () {\n                        indicateFinish();\n                        return true;\n                    }\n                }).fail(function () {\n                    indicateFail();\n                    return false;\n                });\n            }\n        });\n    };\n\n    this.toggle = function () {\n        var icon = $(ele).find('.packageicon');\n        var child = $(ele).find('.children');\n        if (child.css('display') === \"block\") {\n            $(child).fadeOut();\n            icon.removeClass('glyphicon-folder-open');\n            icon.addClass('glyphicon-folder-close');\n        } else {\n            if (!linksLoaded) {\n                if (!thisObject.loadLinks()) {\n                    return;\n                }\n            } else {\n                $(child).fadeIn();\n            }\n            icon.removeClass('glyphicon-folder-close');\n            icon.addClass('glyphicon-folder-open');\n        }\n    };\n\n    this.deletePackage = function(event) {\n        indicateLoad();\n        $.get(\"{{url_for('api.rpc', func='delete_packages')}}/[\" + id + \"]\", function () {\n            $(ele).remove();\n            indicateFinish();\n        }).fail(function () {\n            indicateFail();\n        });\n\n        event.stopPropagation();\n        event.preventDefault();\n    };\n\n    this.restartPackage = function(event) {\n        indicateLoad();\n        $.get(\"{{url_for('api.rpc', func='restart_package')}}/\" + id, function () {\n            thisObject.close();\n            indicateSuccess();\n        }).fail(function () {\n            indicateFail();\n        });\n        event.stopPropagation();\n        event.preventDefault();\n    };\n\n    this.close = function () {\n        var child = $(ele).find('.children');\n        if (child.css('display') === \"block\") {\n            $(child).fadeOut();\n            var icon = $(ele).find('.packageicon');\n            icon.removeClass('glyphicon-folder-open');\n            icon.addClass('glyphicon-folder-close');\n        }\n        var ul = $(\"#sort_children_\" + id);\n        $(ul).html(\"\");\n        linksLoaded = false;\n    };\n\n    this.movePackage = function(event) {\n        indicateLoad();\n        $.get({\n            url: \"{{url_for('json.move_package')}}\",\n            data: {id: id, dest: ((ui.type + 1) % 2)},\n            traditional: true,\n            success: function () {\n                $(ele).remove();\n                indicateFinish();\n            }\n        }).fail(function () {\n            indicateFail();\n        });\n        event.stopPropagation();\n        event.preventDefault();\n    };\n\n    this.editOrder = function(event) {\n        indicateLoad();\n        $.get({\n            url: \"{{url_for('json.package')}}\",\n            success: function(data){\n                length = data.links.length;\n                for (i = 1; i <= length/2; i++){\n                    $.get({\n                        url: \"{{url_for('json.link_order')}}\",\n                        data: {fid: data.links[length-i].fid, pos: i-1},\n                        traditional: true,\n                    }).fail(function () {\n                        indicateFail();\n                    });\n                }\n            }\n        });\n        indicateFinish();\n        thisObject.close();\n        event.stopPropagation();\n        event.preventDefault();\n    };\n\n\n    this.editPackage = function(event) {\n        event.stopPropagation();\n        event.preventDefault();\n        $(\"#pack_form\").off(\"submit\").submit(thisObject.savePackage);\n\n        $(\"#pack_id\").val(id[0]);\n        $(\"#pack_name\").val(name.text());\n        $(\"#pack_folder\").val(folder.text());\n        $(\"#pack_pws\").val(password.text());\n        $('#pack_box').modal('show');\n    };\n\n    this.savePackage = function(event) {\n        $.ajax({\n            url: \"{{url_for('json.edit_package')}}\",\n            type: 'post',\n            dataType: 'json',\n            data: $('#pack_form').serialize()\n        });\n        event.preventDefault();\n        name.text( $(\"#pack_name\").val());\n        folder.text( $(\"#pack_folder\").val());\n        password.text($(\"#pack_pws\").val());\n        $('#pack_box').modal('hide');\n    };\n\n    this.initialize();\n}\n\n{% endautoescape %}\n", "patch": "@@ -176,7 +176,7 @@ function Package (ui, id, ele){\n                 link.icon = 'glyphicon glyphicon-cloud-download';\n \n             var html = \"<span class='child_status'><span style='margin-right: 2px;color: #337ab7;' class='\" + link.icon + \"'></span></span>\\n\" +\n-                       \"<span style='font-size: 16px; font-weight: bold;'><a href='\" + link.url + \"'>\" + link.name + \"</a></span><br/>\" +\n+                       \"<span style='font-size: 16px; font-weight: bold;'><a onclick='return false' href='\" + link.url + \"'>\" + link.name + \"</a></span><br/>\" +\n                        \"<div class='child_secrow' style='margin-left: 21px; margin-bottom: 7px; border-radius: 4px;'>\" +\n                        \"<span class='child_status' style='font-size: 12px; color:#555; padding-left: 5px;'>\" + link.statusmsg + \"</span>&nbsp;\" + link.error + \"&nbsp;\" +\n                        \"<span class='child_status' style='font-size: 12px; color:#555;'>\" + link.format_size + \"</span>\" +", "file_path": "files/2023_1/226", "file_language": "js", "file_name": "src/pyload/webui/app/themes/modern/templates/js/packages.js", "outdated_file_modify": 0, "outdated_file_before": 0, "outdated_file_after": 0}, {"raw_url": "https://github.com/pyload/pyload/raw/46d75a3087f3237d06530d55998938e2e2bda6bd/src%2Fpyload%2Fwebui%2Fapp%2Fthemes%2Fpyplex%2Ftemplates%2Fjs%2Fpackages.js", "code": "{% autoescape true %}\n\nfunction PackageUI (type){\n    var packages = [];\n    var thisObject;\n    this.initialize = function(type) {\n        this.type = type;\n        thisObject = this;\n\n        $(\"#del_finished\").click(this.deleteFinished);\n        $(\"#restart_failed\").click(this.restartFailed);\n        this.parsePackages();\n\n    };\n\n    this.parsePackages = function () {\n       var $packageList = $(\"#package-list\");\n       $packageList.children(\"li\").each(function(ele) {\n            var id = this.id.match(/[0-9]+/);\n            packages.push(new Package(thisObject, id, this));\n        });\n        $packageList.sortable({\n            handle: \".progress\",\n            axis: \"y\",\n            cursor: \"grabbing\",\n            start: function(event, ui) {\n                $(this).attr('data-previndex', ui.item.index());\n            },\n            stop: function(event, ui) {\n                let newIndex = ui.item.index();\n                let oldIndex = $(this).attr('data-previndex');\n                $(this).removeAttr('data-previndex');\n                if (newIndex === oldIndex) {\n                    return false;\n                }\n                indicateLoad();\n                $.get({\n                    url: \"{{url_for('json.package_order')}}\",\n                    data: {pid: ui.item.data('pid'), pos: newIndex},\n                    traditional: true,\n                    success: function () {\n                        indicateFinish();\n                        return true;\n                    }\n                }).fail(function () {\n                    indicateFail();\n                    return false;\n                });\n          }\n        });\n    };\n\n    this.deleteFinished = function () {\n        indicateLoad();\n        $.get(\"{{url_for('api.rpc', func='delete_finished')}}\", function(data) {\n            if (data.length > 0) {\n                window.location.reload();\n            } else {\n                $.each(packages, function (pack) {\n                    this.close();\n                });\n            }\n            indicateSuccess();\n        }).fail(function () {\n            indicateFail();\n        });\n    };\n\n    this.restartFailed = function () {\n        indicateLoad();\n        $.get(\"{{url_for('api.rpc', func='restart_failed')}}\", function(data) {\n            if (data.length > 0) {\n                $.each(packages,function(pack) {\n                    this.close();\n                });\n            }\n            indicateSuccess();\n        }).fail(function () {\n            indicateFail();\n        });\n    };\n\n    this.initialize(type);\n}\n\nfunction Package (ui, id, ele){\n    // private variables\n    var linksLoaded = false;\n    var thisObject;\n    var buttons;\n    var name;\n    var password;\n    var folder;\n\n    this.initialize = function () {\n        thisObject = this;\n        if (!ele) {\n            this.createElement();\n        } else {\n            jQuery.data(ele,\"pid\", id);\n            this.parseElement();\n        }\n\n        var pname = $(ele).find('.packagename');\n\n        buttons = $(ele).find('.buttons');\n        buttons.css(\"opacity\", 0);\n\n        $(pname).mouseenter(function(e) {\n            $(this).find('.buttons').fadeTo('fast', 1)\n        });\n\n        $(pname).mouseleave( function(e) {\n            $(this).find('.buttons').fadeTo('fast', 0)\n        });\n    };\n\n    this.createElement = function () {\n        alert(\"create\");\n    };\n\n    this.parseElement = function () {\n        var imgs = $(ele).find('span');\n\n        name = $(ele).find('.name');\n        folder =  $(ele).find('.folder');\n        password = $(ele).find('.password');\n\n        $(imgs[3]).click(this.deletePackage);\n        $(imgs[4]).click(this.restartPackage);\n        $(imgs[5]).click(this.editPackage);\n        $(imgs[6]).click(this.movePackage);\n        $(imgs[7]).click(this.editOrder);\n\n        $(ele).find('.packagename').click(this.toggle);\n    };\n\n    this.loadLinks = function () {\n        indicateLoad();\n        $.get({\n            url: \"{{url_for('json.package')}}\",\n            data: {id: id},\n            traditional: true,\n            success: thisObject.createLinks\n        }).fail(function () {\n            indicateFail();\n            return false;\n        }).done(function() {\n            return true;\n        });\n    };\n\n    this.createLinks = function(data) {\n        var ul = $(\"#sort_children_\" + id[0]);\n        ul.html(\"\");\n        $.each(data.links, function(key, link) {      // data.links.each(\n            link.id = link.fid;\n            var li = document.createElement(\"li\");\n            $(li).css(\"margin-left\",0);\n\n            if (link.status === 0)\n                link.icon = 'glyphicon glyphicon-ok';\n            else if (link.status === 2 || link.status === 3)\n                link.icon = 'glyphicon glyphicon-time';\n            else if (link.status ===  9 || link.status === 1)\n                link.icon = 'glyphicon glyphicon-ban-circle';\n            else if (link.status === 5)\n                link.icon = 'glyphicon glyphicon-time';\n            else if (link.status === 8)\n                link.icon = 'glyphicon glyphicon-exclamation-sign';\n            else if (link.status === 4)\n                link.icon = 'glyphicon glyphicon-arrow-right';\n            else if (link.status ===  11 || link.status === 13)\n                link.icon = 'glyphicon glyphicon-cog';\n            else\n                link.icon = 'glyphicon glyphicon-cloud-download';\n\n            var html = \"<span class='child_status'><span style='margin-right: 2px;color: #f9be03;' class='\" + link.icon + \"'></span></span>\\n\" +\n                       \"<span style='font-size: 16px; font-weight: bold;'><a onclick='return false' href='\" + link.url + \"'>\" + link.name + \"</a></span><br/>\" +\n                       \"<div class='child_secrow' style='margin-left: 21px; margin-bottom: 7px; border-radius: 4px;'>\" +\n                       \"<span class='child_status' style='font-size: 12px; color:#eee; padding-left: 5px;'>\" + link.statusmsg + \"</span>&nbsp;\" + link.error + \"&nbsp;\" +\n                       \"<span class='child_status' style='font-size: 12px; color:#eee;'>\" + link.format_size + \"</span>\" +\n                       \"<span class='child_status' style='font-size: 12px; color:#eee;'> \" + link.plugin + \"</span>&nbsp;&nbsp;\" +\n                       \"<span class='glyphicon glyphicon-trash' title='{{_('Delete Link')}}' style='cursor: pointer;  font-size: 12px; color:#eee;' ></span>&nbsp;&nbsp;\" +\n                       \"<span class='glyphicon glyphicon-repeat' title='{{_('Restart Link')}}' style='cursor: pointer; font-size: 12px; color:#eee;' ></span></div>\";\n\n            var div = document.createElement(\"div\");\n            $(div).attr(\"id\", \"file_\" + link.id);\n            $(div).css(\"padding-left\", \"30px\");\n            $(div).css(\"cursor\", \"grab\");\n            $(div).addClass(\"child\");\n            $(div).html(html);\n\n            jQuery.data(li,\"lid\", link.id);\n\n            li.appendChild(div);\n            $(ul)[0].appendChild(li);\n        });\n\n        thisObject.registerLinkEvents();\n        linksLoaded = true;\n        indicateFinish();\n        thisObject.toggle();\n    };\n\n    this.registerLinkEvents = function () {\n        $(ele).find('.children').children('ul').children(\"li\").each(function(child) {\n            var lid = $(this).find('.child').attr('id').match(/[0-9]+/);\n            var imgs = $(this).find('.child_secrow span');\n            $(imgs[3]).bind('click',{ lid: lid}, function(e) {\n                $.get(\"{{url_for('api.rpc', func='delete_files')}}/[\" + lid + \"]\", function () {\n                    $('#file_' + lid).remove()\n                }).fail(function () {\n                    indicateFail();\n                });\n            });\n\n            $(imgs[4]).bind('click',{ lid: lid},function(e) {\n                $.get(\"{{url_for('api.rpc', func='restart_file')}}/\" + lid, function () {\n                    var ele1 = $('#file_' + lid);\n                    var imgs1 = $(ele1).find(\".glyphicon\");\n                    $(imgs1[0]).attr( \"class\", \"glyphicon glyphicon-time text-info\");\n                    var spans = $(ele1).find(\".child_status\");\n                    $(spans[1]).html(\"{{_('queued')}}\");\n                    indicateSuccess();\n                }).fail(function () {\n                    indicateFail();\n                });\n            });\n        });\n\n\n        $(ele).find('.children').children('ul').sortable({\n            handle: \".child\",\n            axis: \"y\",\n            cursor: \"grabbing\",\n            start: function(e, ui) {\n                $(this).attr('data-previndex', ui.item.index());\n            },\n            stop: function(event, ui) {\n                var newIndex = ui.item.index();\n                var oldIndex = $(this).attr('data-previndex');\n                $(this).removeAttr('data-previndex');\n                if (newIndex === oldIndex) {\n                    return false;\n                }\n                indicateLoad();\n                $.get({\n                    url: \"{{url_for('json.link_order')}}\",\n                    data: {fid: ui.item.data('lid'), pos: newIndex},\n                    traditional: true,\n                    success: function () {\n                        indicateFinish();\n                        return true;\n                    }\n                }).fail(function () {\n                    indicateFail();\n                    return false;\n                });\n          }\n        });\n    };\n\n    this.toggle = function () {\n        var icon = $(ele).find('.packageicon');\n        var child = $(ele).find('.children');\n        if (child.css('display') === \"block\") {\n            $(child).fadeOut();\n            icon.removeClass('glyphicon-folder-open');\n            icon.addClass('glyphicon-folder-close');\n        } else {\n            if (!linksLoaded) {\n                if (!thisObject.loadLinks()) {\n                    return;\n                }\n            } else {\n                $(child).fadeIn();\n            }\n            icon.removeClass('glyphicon-folder-close');\n            icon.addClass('glyphicon-folder-open');\n        }\n    };\n\n    this.deletePackage = function(event) {\n        indicateLoad();\n        $.get(\"{{url_for('api.rpc', func='delete_packages')}}/[\" + id + \"]\", function () {\n            $(ele).remove();\n            indicateFinish();\n        }).fail(function () {\n            indicateFail();\n        });\n\n        event.stopPropagation();\n        event.preventDefault();\n    };\n\n    this.restartPackage = function(event) {\n        indicateLoad();\n        $.get(\"{{url_for('api.rpc', func='restart_package')}}/\" + id, function () {\n            thisObject.close();\n            indicateSuccess();\n        }).fail(function () {\n            indicateFail();\n        });\n        event.stopPropagation();\n        event.preventDefault();\n    };\n\n    this.close = function () {\n        var child = $(ele).find('.children');\n        if (child.css('display') === \"block\") {\n            $(child).fadeOut();\n            var icon = $(ele).find('.packageicon');\n            icon.removeClass('glyphicon-folder-open');\n            icon.addClass('glyphicon-folder-close');\n        }\n        var ul = $(\"#sort_children_\" + id);\n        $(ul).html(\"\");\n        linksLoaded = false;\n    };\n\n    this.movePackage = function(event) {\n        indicateLoad();\n        $.get({\n            url: \"{{url_for('json.move_package')}}\",\n            data: {id: id, dest: ((ui.type + 1) % 2)},\n            traditional: true,\n            success: function () {\n                $(ele).remove();\n                indicateFinish();\n            }\n        }).fail(function () {\n            indicateFail();\n        });\n        event.stopPropagation();\n        event.preventDefault();\n    };\n\n    this.editOrder = function(event) {\n        indicateLoad();\n        $.get({\n            url: \"{{url_for('json.package')}}\",\n            success: function(data){\n                length = data.links.length;\n                for (i = 1; i <= length/2; i++){\n                    $.get({\n                        url: \"{{url_for('json.link_order')}}\",\n                        data: {fid: data.links[length-i].fid, pos: i-1},\n                        traditional: true,\n                    }).fail(function () {\n                        indicateFail();\n                    });\n                }\n            }\n        });\n        indicateFinish();\n        thisObject.close();\n        event.stopPropagation();\n        event.preventDefault();\n    };\n\n\n    this.editPackage = function(event) {\n        event.stopPropagation();\n        event.preventDefault();\n        $(\"#pack_form\").off(\"submit\").submit(thisObject.savePackage);\n\n        $(\"#pack_id\").val(id[0]);\n        $(\"#pack_name\").val(name.text());\n        $(\"#pack_folder\").val(folder.text());\n        $(\"#pack_pws\").val(password.text());\n        $('#pack_box').modal('show');\n    };\n\n    this.savePackage = function(event) {\n        $.ajax({\n            url: \"{{url_for('json.edit_package')}}\",\n            type: 'post',\n            dataType: 'json',\n            data: $('#pack_form').serialize()\n        });\n        event.preventDefault();\n        name.text( $(\"#pack_name\").val());\n        folder.text( $(\"#pack_folder\").val());\n        password.text($(\"#pack_pws\").val());\n        $('#pack_box').modal('hide');\n    };\n\n    this.initialize();\n}\n\n{% endautoescape %}\n", "code_before": "{% autoescape true %}\n\nfunction PackageUI (type){\n    var packages = [];\n    var thisObject;\n    this.initialize = function(type) {\n        this.type = type;\n        thisObject = this;\n\n        $(\"#del_finished\").click(this.deleteFinished);\n        $(\"#restart_failed\").click(this.restartFailed);\n        this.parsePackages();\n\n    };\n\n    this.parsePackages = function () {\n       var $packageList = $(\"#package-list\");\n       $packageList.children(\"li\").each(function(ele) {\n            var id = this.id.match(/[0-9]+/);\n            packages.push(new Package(thisObject, id, this));\n        });\n        $packageList.sortable({\n            handle: \".progress\",\n            axis: \"y\",\n            cursor: \"grabbing\",\n            start: function(event, ui) {\n                $(this).attr('data-previndex', ui.item.index());\n            },\n            stop: function(event, ui) {\n                let newIndex = ui.item.index();\n                let oldIndex = $(this).attr('data-previndex');\n                $(this).removeAttr('data-previndex');\n                if (newIndex === oldIndex) {\n                    return false;\n                }\n                indicateLoad();\n                $.get({\n                    url: \"{{url_for('json.package_order')}}\",\n                    data: {pid: ui.item.data('pid'), pos: newIndex},\n                    traditional: true,\n                    success: function () {\n                        indicateFinish();\n                        return true;\n                    }\n                }).fail(function () {\n                    indicateFail();\n                    return false;\n                });\n          }\n        });\n    };\n\n    this.deleteFinished = function () {\n        indicateLoad();\n        $.get(\"{{url_for('api.rpc', func='delete_finished')}}\", function(data) {\n            if (data.length > 0) {\n                window.location.reload();\n            } else {\n                $.each(packages, function (pack) {\n                    this.close();\n                });\n            }\n            indicateSuccess();\n        }).fail(function () {\n            indicateFail();\n        });\n    };\n\n    this.restartFailed = function () {\n        indicateLoad();\n        $.get(\"{{url_for('api.rpc', func='restart_failed')}}\", function(data) {\n            if (data.length > 0) {\n                $.each(packages,function(pack) {\n                    this.close();\n                });\n            }\n            indicateSuccess();\n        }).fail(function () {\n            indicateFail();\n        });\n    };\n\n    this.initialize(type);\n}\n\nfunction Package (ui, id, ele){\n    // private variables\n    var linksLoaded = false;\n    var thisObject;\n    var buttons;\n    var name;\n    var password;\n    var folder;\n\n    this.initialize = function () {\n        thisObject = this;\n        if (!ele) {\n            this.createElement();\n        } else {\n            jQuery.data(ele,\"pid\", id);\n            this.parseElement();\n        }\n\n        var pname = $(ele).find('.packagename');\n\n        buttons = $(ele).find('.buttons');\n        buttons.css(\"opacity\", 0);\n\n        $(pname).mouseenter(function(e) {\n            $(this).find('.buttons').fadeTo('fast', 1)\n        });\n\n        $(pname).mouseleave( function(e) {\n            $(this).find('.buttons').fadeTo('fast', 0)\n        });\n    };\n\n    this.createElement = function () {\n        alert(\"create\");\n    };\n\n    this.parseElement = function () {\n        var imgs = $(ele).find('span');\n\n        name = $(ele).find('.name');\n        folder =  $(ele).find('.folder');\n        password = $(ele).find('.password');\n\n        $(imgs[3]).click(this.deletePackage);\n        $(imgs[4]).click(this.restartPackage);\n        $(imgs[5]).click(this.editPackage);\n        $(imgs[6]).click(this.movePackage);\n        $(imgs[7]).click(this.editOrder);\n\n        $(ele).find('.packagename').click(this.toggle);\n    };\n\n    this.loadLinks = function () {\n        indicateLoad();\n        $.get({\n            url: \"{{url_for('json.package')}}\",\n            data: {id: id},\n            traditional: true,\n            success: thisObject.createLinks\n        }).fail(function () {\n            indicateFail();\n            return false;\n        }).done(function() {\n            return true;\n        });\n    };\n\n    this.createLinks = function(data) {\n        var ul = $(\"#sort_children_\" + id[0]);\n        ul.html(\"\");\n        $.each(data.links, function(key, link) {      // data.links.each(\n            link.id = link.fid;\n            var li = document.createElement(\"li\");\n            $(li).css(\"margin-left\",0);\n\n            if (link.status === 0)\n                link.icon = 'glyphicon glyphicon-ok';\n            else if (link.status === 2 || link.status === 3)\n                link.icon = 'glyphicon glyphicon-time';\n            else if (link.status ===  9 || link.status === 1)\n                link.icon = 'glyphicon glyphicon-ban-circle';\n            else if (link.status === 5)\n                link.icon = 'glyphicon glyphicon-time';\n            else if (link.status === 8)\n                link.icon = 'glyphicon glyphicon-exclamation-sign';\n            else if (link.status === 4)\n                link.icon = 'glyphicon glyphicon-arrow-right';\n            else if (link.status ===  11 || link.status === 13)\n                link.icon = 'glyphicon glyphicon-cog';\n            else\n                link.icon = 'glyphicon glyphicon-cloud-download';\n\n            var html = \"<span class='child_status'><span style='margin-right: 2px;color: #f9be03;' class='\" + link.icon + \"'></span></span>\\n\" +\n                       \"<span style='font-size: 16px; font-weight: bold;'><a href='\" + link.url + \"'>\" + link.name + \"</a></span><br/>\" +\n                       \"<div class='child_secrow' style='margin-left: 21px; margin-bottom: 7px; border-radius: 4px;'>\" +\n                       \"<span class='child_status' style='font-size: 12px; color:#eee; padding-left: 5px;'>\" + link.statusmsg + \"</span>&nbsp;\" + link.error + \"&nbsp;\" +\n                       \"<span class='child_status' style='font-size: 12px; color:#eee;'>\" + link.format_size + \"</span>\" +\n                       \"<span class='child_status' style='font-size: 12px; color:#eee;'> \" + link.plugin + \"</span>&nbsp;&nbsp;\" +\n                       \"<span class='glyphicon glyphicon-trash' title='{{_('Delete Link')}}' style='cursor: pointer;  font-size: 12px; color:#eee;' ></span>&nbsp;&nbsp;\" +\n                       \"<span class='glyphicon glyphicon-repeat' title='{{_('Restart Link')}}' style='cursor: pointer; font-size: 12px; color:#eee;' ></span></div>\";\n\n            var div = document.createElement(\"div\");\n            $(div).attr(\"id\", \"file_\" + link.id);\n            $(div).css(\"padding-left\", \"30px\");\n            $(div).css(\"cursor\", \"grab\");\n            $(div).addClass(\"child\");\n            $(div).html(html);\n\n            jQuery.data(li,\"lid\", link.id);\n\n            li.appendChild(div);\n            $(ul)[0].appendChild(li);\n        });\n\n        thisObject.registerLinkEvents();\n        linksLoaded = true;\n        indicateFinish();\n        thisObject.toggle();\n    };\n\n    this.registerLinkEvents = function () {\n        $(ele).find('.children').children('ul').children(\"li\").each(function(child) {\n            var lid = $(this).find('.child').attr('id').match(/[0-9]+/);\n            var imgs = $(this).find('.child_secrow span');\n            $(imgs[3]).bind('click',{ lid: lid}, function(e) {\n                $.get(\"{{url_for('api.rpc', func='delete_files')}}/[\" + lid + \"]\", function () {\n                    $('#file_' + lid).remove()\n                }).fail(function () {\n                    indicateFail();\n                });\n            });\n\n            $(imgs[4]).bind('click',{ lid: lid},function(e) {\n                $.get(\"{{url_for('api.rpc', func='restart_file')}}/\" + lid, function () {\n                    var ele1 = $('#file_' + lid);\n                    var imgs1 = $(ele1).find(\".glyphicon\");\n                    $(imgs1[0]).attr( \"class\", \"glyphicon glyphicon-time text-info\");\n                    var spans = $(ele1).find(\".child_status\");\n                    $(spans[1]).html(\"{{_('queued')}}\");\n                    indicateSuccess();\n                }).fail(function () {\n                    indicateFail();\n                });\n            });\n        });\n\n\n        $(ele).find('.children').children('ul').sortable({\n            handle: \".child\",\n            axis: \"y\",\n            cursor: \"grabbing\",\n            start: function(e, ui) {\n                $(this).attr('data-previndex', ui.item.index());\n            },\n            stop: function(event, ui) {\n                var newIndex = ui.item.index();\n                var oldIndex = $(this).attr('data-previndex');\n                $(this).removeAttr('data-previndex');\n                if (newIndex === oldIndex) {\n                    return false;\n                }\n                indicateLoad();\n                $.get({\n                    url: \"{{url_for('json.link_order')}}\",\n                    data: {fid: ui.item.data('lid'), pos: newIndex},\n                    traditional: true,\n                    success: function () {\n                        indicateFinish();\n                        return true;\n                    }\n                }).fail(function () {\n                    indicateFail();\n                    return false;\n                });\n          }\n        });\n    };\n\n    this.toggle = function () {\n        var icon = $(ele).find('.packageicon');\n        var child = $(ele).find('.children');\n        if (child.css('display') === \"block\") {\n            $(child).fadeOut();\n            icon.removeClass('glyphicon-folder-open');\n            icon.addClass('glyphicon-folder-close');\n        } else {\n            if (!linksLoaded) {\n                if (!thisObject.loadLinks()) {\n                    return;\n                }\n            } else {\n                $(child).fadeIn();\n            }\n            icon.removeClass('glyphicon-folder-close');\n            icon.addClass('glyphicon-folder-open');\n        }\n    };\n\n    this.deletePackage = function(event) {\n        indicateLoad();\n        $.get(\"{{url_for('api.rpc', func='delete_packages')}}/[\" + id + \"]\", function () {\n            $(ele).remove();\n            indicateFinish();\n        }).fail(function () {\n            indicateFail();\n        });\n\n        event.stopPropagation();\n        event.preventDefault();\n    };\n\n    this.restartPackage = function(event) {\n        indicateLoad();\n        $.get(\"{{url_for('api.rpc', func='restart_package')}}/\" + id, function () {\n            thisObject.close();\n            indicateSuccess();\n        }).fail(function () {\n            indicateFail();\n        });\n        event.stopPropagation();\n        event.preventDefault();\n    };\n\n    this.close = function () {\n        var child = $(ele).find('.children');\n        if (child.css('display') === \"block\") {\n            $(child).fadeOut();\n            var icon = $(ele).find('.packageicon');\n            icon.removeClass('glyphicon-folder-open');\n            icon.addClass('glyphicon-folder-close');\n        }\n        var ul = $(\"#sort_children_\" + id);\n        $(ul).html(\"\");\n        linksLoaded = false;\n    };\n\n    this.movePackage = function(event) {\n        indicateLoad();\n        $.get({\n            url: \"{{url_for('json.move_package')}}\",\n            data: {id: id, dest: ((ui.type + 1) % 2)},\n            traditional: true,\n            success: function () {\n                $(ele).remove();\n                indicateFinish();\n            }\n        }).fail(function () {\n            indicateFail();\n        });\n        event.stopPropagation();\n        event.preventDefault();\n    };\n\n    this.editOrder = function(event) {\n        indicateLoad();\n        $.get({\n            url: \"{{url_for('json.package')}}\",\n            success: function(data){\n                length = data.links.length;\n                for (i = 1; i <= length/2; i++){\n                    $.get({\n                        url: \"{{url_for('json.link_order')}}\",\n                        data: {fid: data.links[length-i].fid, pos: i-1},\n                        traditional: true,\n                    }).fail(function () {\n                        indicateFail();\n                    });\n                }\n            }\n        });\n        indicateFinish();\n        thisObject.close();\n        event.stopPropagation();\n        event.preventDefault();\n    };\n\n\n    this.editPackage = function(event) {\n        event.stopPropagation();\n        event.preventDefault();\n        $(\"#pack_form\").off(\"submit\").submit(thisObject.savePackage);\n\n        $(\"#pack_id\").val(id[0]);\n        $(\"#pack_name\").val(name.text());\n        $(\"#pack_folder\").val(folder.text());\n        $(\"#pack_pws\").val(password.text());\n        $('#pack_box').modal('show');\n    };\n\n    this.savePackage = function(event) {\n        $.ajax({\n            url: \"{{url_for('json.edit_package')}}\",\n            type: 'post',\n            dataType: 'json',\n            data: $('#pack_form').serialize()\n        });\n        event.preventDefault();\n        name.text( $(\"#pack_name\").val());\n        folder.text( $(\"#pack_folder\").val());\n        password.text($(\"#pack_pws\").val());\n        $('#pack_box').modal('hide');\n    };\n\n    this.initialize();\n}\n\n{% endautoescape %}\n", "patch": "@@ -176,7 +176,7 @@ function Package (ui, id, ele){\n                 link.icon = 'glyphicon glyphicon-cloud-download';\n \n             var html = \"<span class='child_status'><span style='margin-right: 2px;color: #f9be03;' class='\" + link.icon + \"'></span></span>\\n\" +\n-                       \"<span style='font-size: 16px; font-weight: bold;'><a href='\" + link.url + \"'>\" + link.name + \"</a></span><br/>\" +\n+                       \"<span style='font-size: 16px; font-weight: bold;'><a onclick='return false' href='\" + link.url + \"'>\" + link.name + \"</a></span><br/>\" +\n                        \"<div class='child_secrow' style='margin-left: 21px; margin-bottom: 7px; border-radius: 4px;'>\" +\n                        \"<span class='child_status' style='font-size: 12px; color:#eee; padding-left: 5px;'>\" + link.statusmsg + \"</span>&nbsp;\" + link.error + \"&nbsp;\" +\n                        \"<span class='child_status' style='font-size: 12px; color:#eee;'>\" + link.format_size + \"</span>\" +", "file_path": "files/2023_1/227", "file_language": "js", "file_name": "src/pyload/webui/app/themes/pyplex/templates/js/packages.js", "outdated_file_modify": 0, "outdated_file_before": 0, "outdated_file_after": 0}], "outdated": 0, "cwe_descripiton": "", "cwe_consequence": "", "cwe_method": "", "cwe_solution": ""}
