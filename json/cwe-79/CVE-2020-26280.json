{"index": 5209, "cve_id": "CVE-2020-26280", "cwe_id": ["CWE-79"], "cve_language": "Python", "cve_description": "OpenSlides is a free, Web-based presentation and assembly system for managing and projecting agenda, motions, and elections of assemblies. OpenSlides version 3.2, due to unsufficient user input validation and escaping, it is vulnerable to persistant cross-site scripting (XSS). In the web applications users can enter rich text in various places, e.g. for personal notes or in motions. These fields can be used to store arbitrary JavaScript Code that will be executed when other users read the respective text. An attacker could utilize this vulnerability be used to manipulate votes of other users, hijack the moderators session or simply disturb the meeting. The vulnerability was introduced with 6eae497abeab234418dfbd9d299e831eff86ed45 on 16.04.2020, which is first included in the 3.2 release. It has been patched in version 3.3 ( in commit f3809fc8a97ee305d721662a75f788f9e9d21938, merged in master on 20.11.2020).", "cvss": "8.9", "publish_date": "December 18, 2020", "AV": "NETWORK", "AC": "NETWORK", "PR": "LOW", "UI": "REQUIRED", "S": "CHANGED", "C": "HIGH", "I": "HIGH", "A": "LOW", "commit_id": "f3809fc8a97ee305d721662a75f788f9e9d21938", "commit_message": "Fixed HTML attribute validation", "commit_date": "2020-11-20T15:10:32Z", "project": "openslides/openslides", "url": "https://api.github.com/repos/OpenSlides/OpenSlides/commits/f3809fc8a97ee305d721662a75f788f9e9d21938", "html_url": "https://github.com/OpenSlides/OpenSlides/commit/f3809fc8a97ee305d721662a75f788f9e9d21938", "windows_before": [{"commit_id": "b2215131a47d9f6acc4bb6a8ae27e802dfbebbc8", "commit_date": "Thu Nov 19 15:05:35 2020 +0100", "commit_message": "Merge pull request #5712 from GabrielInTheWorld/fix-example-data", "files_name": ["371fb0c6aeea6c9f0acfc1c9c36095bd3f8586c9 - Thu Nov 19 15:01:53 2020 +0100 : Fixes meeting_id example-data", "docs/example-data.json"]}, {"commit_id": "a0d0a4ac0bfd20ddb8627faa827c1a39d480bef5", "commit_date": "Thu Nov 19 15:01:49 2020 +0100", "commit_message": "Change name", "files_name": ["docs/interfaces/action-service.txt"]}, {"commit_id": "cb7e91d8c59e360560842c17583395d558ad77ef", "commit_date": "Thu Nov 19 13:54:53 2020 +0100", "commit_message": "Fixed ActionsResult", "files_name": ["docs/interfaces/action-service.txt"]}, {"commit_id": "a73ae9961f8a39d94c490ba5fe25c6de88bba7e0", "commit_date": "Thu Nov 19 13:52:39 2020 +0100", "commit_message": "Include new transaction mode for bulk actions", "files_name": ["docs/interfaces/action-service.txt"]}, {"commit_id": "c3bb1928b9cd0c76641bacf2a5852b825f577c76", "commit_date": "Thu Nov 19 10:56:20 2020 +0100", "commit_message": "Merge pull request #5708 from r-peschke/feature_setCommittee_Meeting_protected", "files_name": ["b39a2e397d15fb6fdcefaf1916997b0de400adea - Wed Nov 18 14:13:10 2020 +0100 : Set relation Committee -> Meeting protected", "docs/models.yml"]}, {"commit_id": "c48b5277c46024a11636c81696f7b6ea5a86bca9", "commit_date": "Tue Nov 17 07:51:20 2020 +0100", "commit_message": "Merge pull request #5646 from FinnStutzenstein/permissionService", "files_name": ["945d1307babce91cfdab2737720ebf27043ea035 - Thu Jul 30 08:57:57 2020 +0200 : Permission Service", ".gitmodules", "db.sh", "docker/docker-compose.dev.yml", "docker/services.env", "docs/interfaces/permission-service.txt", "openslides-auth-service", "openslides-autoupdate-service", "openslides-backend", "openslides-permission-service", "services.env"]}, {"commit_id": "8cd6e0277240aff5c6f1b4e13b76d6d755d131db", "commit_date": "Fri Nov 13 16:18:34 2020 +0100", "commit_message": "Updated specs", "files_name": ["docs/interfaces/datastore-service.txt"]}, {"commit_id": "c811926478914de99cbd907a989056864351c816", "commit_date": "Fri Nov 13 13:04:20 2020 +0100", "commit_message": "Update datastore specs", "files_name": ["docs/interfaces/datastore-service.txt"]}, {"commit_id": "989a5789efb4c9cf58ed89ec67ac501821baabdb", "commit_date": "Thu Nov 12 07:34:09 2020 +0100", "commit_message": "Merge pull request #5699 from FinnStutzenstein/update", "files_name": ["95aa94e4eac9f076d263d8678ee123476924e60d - Thu Nov 12 07:32:18 2020 +0100 : Update Services", "openslides-auth-service", "openslides-autoupdate-service", "openslides-backend", "openslides-client"]}, {"commit_id": "7a039469b01d72d1ed2f0f0c01b0fe40985d12e9", "commit_date": "Wed Nov 11 13:50:42 2020 +0100", "commit_message": "Merge pull request #5697 from reiterl/dev_model_group", "files_name": ["230472954565553740a24a8ea4b35d19627014e7 - Wed Nov 11 10:22:59 2020 +0100 : Add on delete Protect to group relations.", "docs/models.yml"]}, {"commit_id": "8cfa7d0a514a3fe4f676483b73f2879f30622e78", "commit_date": "Wed Nov 11 08:33:59 2020 +0100", "commit_message": "Result->Response, actions->action", "files_name": ["docs/interfaces/action-service.txt"]}, {"commit_id": "5b0047b093824ffa038b0f849ed76e48e19595ef", "commit_date": "Tue Nov 10 17:28:57 2020 +0100", "commit_message": "Enhance the action interface", "files_name": ["docs/interfaces/actions-service.txt"]}, {"commit_id": "1fb296038e062fc526e2397b84677f215c6a48d9", "commit_date": "Thu Nov 5 17:40:31 2020 +0100", "commit_message": "Merge pull request #5679 from jsangmeister/protect-first-state-of-workflow", "files_name": ["ee41eb2df9265ce61b469df8ac466e6afac7db70 - Thu Nov 5 17:35:32 2020 +0100 : Protect first_state_of_workflow_id", "docs/models.yml"]}, {"commit_id": "9c766de4749de2f7d626b4cdacebbef27f4f1527", "commit_date": "Wed Nov 4 16:03:39 2020 +0100", "commit_message": "Merge pull request #5675 from reiterl/dev_model_lightblue", "files_name": ["99011e6909ef1410520d7895e43e693752610fbb - Wed Nov 4 14:53:57 2020 +0100 : Add a default to motion_state css_class.", "docs/models.yml"]}, {"commit_id": "c104f235da9486c89b999497359b089b31b3b357", "commit_date": "Tue Nov 3 15:23:58 2020 +0100", "commit_message": "Merge pull request #5670 from FinnStutzenstein/fixMediafileExampleData", "files_name": ["a183fa89cb70ae34d7239f825e36dbf50357bf87 - Tue Nov 3 15:22:24 2020 +0100 : Fix eaxmple data: Add LOS for mediafiles", "docker/docker-compose.dev.yml", "docs/example-data.json"]}, {"commit_id": "0b6e855254bf691b4c7b9f3d8ba038c536b6e67d", "commit_date": "Tue Nov 3 13:43:10 2020 +0100", "commit_message": "Merge pull request #5669 from FinnStutzenstein/locationToPlace", "files_name": ["ef78783b5566c781e024df1fae0787992a7d3cf7 - Tue Nov 3 13:41:45 2020 +0100 : location -> place", "docs/models.yml"]}, {"commit_id": "ca069edb11136b2d0bcf7eb8882af6b2ac6a3e14", "commit_date": "Tue Nov 3 12:14:57 2020 +0100", "commit_message": "Merge pull request #5668 from FinnStutzenstein/structuredField", "files_name": ["8bf3b3df6bf6aeaf759ed1b399d876de49c6e634 - Tue Nov 3 11:33:23 2020 +0100 : Structured fields, updated repos", "dev-commands/set-ds.sh", "docker/docker-compose.dev.yml", "docs/example-data.json", "docs/models.yml", "openslides-auth-service", "openslides-autoupdate-service", "openslides-backend", "openslides-client"]}, {"commit_id": "3e0ac15e49465bb25bb9fd9abf120fe2f110a06d", "commit_date": "Fri Oct 30 10:33:59 2020 +0100", "commit_message": "Merge pull request #5662 from reiterl/dev_model_2", "files_name": ["e199e9dbe00541fdb740f0a4f710f5ba0a00d386 - Fri Oct 30 10:03:40 2020 +0100 : Update model assignment. Change enum and default of phase.", "docs/models.yml"]}, {"commit_id": "4d8a53513af773ba8acf9154890e419e0d58ab74", "commit_date": "Wed Oct 28 13:17:52 2020 +0100", "commit_message": "Merge pull request #5659 from FinnStutzenstein/fixDockerComposeDev", "files_name": ["c83d9cf806efde791f5b2d8aadd5ecc484a9717d - Wed Oct 28 13:11:26 2020 +0100 : Fix docker compose dev", "docker/docker-compose.dev.yml"]}, {"commit_id": "39d7353959ff26e722aa3c149bea79c5e4d790ee", "commit_date": "Wed Oct 28 10:42:42 2020 +0100", "commit_message": "Merge pull request #5621 from FinnStutzenstein/prod", "files_name": ["937238697922fec9e8ae8942d7a8b06292e3d869 - Mon Oct 5 10:43:43 2020 +0200 : Prod setup", ".gitignore", "Makefile", "README.md", "dc-dev.sh", "docker-compose.prod.yml", "docker-compose.yml", "docker/.env", "docker/build.sh", "docker/docker-compose.dev.yml", "docker/docker-compose.yml.m4", "docker/docker-stack.yml.m4", "docker/initial-data.json", "docker/reset-admin-password.sh", "docker/secrets/admin.env.example", "docker/secrets/user.env.example", "docker/services.env", "docker/setup-prod.sh", "haproxy/Dockerfile", "haproxy/Dockerfile.dev", "haproxy/build.sh", "haproxy/src/haproxy.dev.cfg", "haproxy/src/haproxy.prod.cfg", "openslides-autoupdate-service", "openslides-backend"]}, {"commit_id": "399bf389d60fbcedfa5de7847bcf71a445482d17", "commit_date": "Fri Oct 23 08:32:03 2020 +0200", "commit_message": "Merge pull request #5635 from FinnStutzenstein/dsHelperTools", "files_name": ["4ff76444b25d98d5f8d55b2b80bf7eaf66cf51e6 - Fri Oct 16 13:11:00 2020 +0200 : Helper-tools for the DataStore", "dc-dev.sh", "dev-commands/clear-ds.sh", "dev-commands/export-ds.sh", "dev-commands/set-ds.sh", "dev-commands/strip-meta-fields.py", "docker-compose.dev.yml", "docs/interfaces/datastore-service.txt", "openslides-auth-service", "openslides-autoupdate-service", "openslides-backend", "openslides-client", "openslides-datastore-service", "openslides-media-service"]}, {"commit_id": "1f049caf5d046afee37c51c14b0a9ce17e305e5c", "commit_date": "Wed Oct 21 11:43:24 2020 +0200", "commit_message": "Merge pull request #5650 from FinnStutzenstein/adoptExampleDataII", "files_name": ["e164e2b1185193f42b62419cb494ba0d1486e635 - Wed Oct 21 11:41:56 2020 +0200 : Adopt example data: Reenable the old version", "docs/example-data.json"]}, {"commit_id": "ce5bb9dca513dcb9a72b3ce56c26c93ecae1b29a", "commit_date": "Wed Oct 21 10:44:25 2020 +0200", "commit_message": "Merge pull request #5649 from FinnStutzenstein/adoptExampleData", "files_name": ["a406d5ac88d304effb86255c5526d4e228f28e73 - Wed Oct 21 10:39:44 2020 +0200 : Adopt example data for new structured fields", "docs/example-data.json"]}, {"commit_id": "81c00368f06aa6da638afd537940e81f47099478", "commit_date": "Wed Oct 21 09:22:58 2020 +0200", "commit_message": "Merge pull request #5648 from FinnStutzenstein/enableMotionFeatures", "files_name": ["5439e46866b2b66509a039fb0b3436efccb8cb98 - Wed Oct 21 09:21:27 2020 +0200 : Enable more features for motions", "docs/example-data.json"]}, {"commit_id": "44cfc2849f264f8c4ba4cce6654717121623a2c9", "commit_date": "Tue Oct 20 10:08:53 2020 +0200", "commit_message": "Merge pull request #5642 from reiterl/dev_model", "files_name": ["de65db33a7a53b6d81db0833ecc0bf2eaaf4e03b - Tue Oct 20 09:35:29 2020 +0200 : Update model.yml to switch enum of state.", "docs/models.yml"]}, {"commit_id": "b6dd6086aac41fb710ea8135b877d1f5bd7e1069", "commit_date": "Thu Oct 15 09:55:36 2020 +0200", "commit_message": "Merge pull request #5632 from jsangmeister/change-weights", "files_name": ["77c03b5675ea9a4debceab525305fb1b956d664d - Wed Oct 14 07:55:58 2020 +0200 : Merge pull request #5630 from GabrielInTheWorld/update-auth-service-interface", "2664c3936160d4b705228d42e7447a4bf38e7734 - Tue Oct 13 17:16:35 2020 +0200 : Change weights and add defaults", "docs/models.yml"]}, {"commit_id": "049421bda9641e78b5e5d84cdd0eae5c25c56537", "commit_date": "Tue Oct 13 11:48:35 2020 +0200", "commit_message": "Update auth-service's interface and auth-service", "files_name": ["docs/interfaces/auth-service.txt", "openslides-auth-service"]}, {"commit_id": "eded14f0665b4850d0df22e0beddc530f25e466e", "commit_date": "Tue Oct 13 08:26:15 2020 +0200", "commit_message": "Merge pull request #5496 from GabrielInTheWorld/update-auth-service-interface", "files_name": ["27fdcc66d2a24304c23ba1d580d9507e77797f11 - Mon Oct 12 19:06:35 2020 +0200 : Merge pull request #5629 from jsangmeister/add-defaults", "8530c87f77328af835db589cff66cce6050c2d52 - Mon Oct 12 19:02:26 2020 +0200 : Add default type for motion_change_recommendation", "docs/models.yml"]}, {"commit_id": "d123f0934a4a9cd6d1de424a7b6c71c25181751b", "commit_date": "Wed Oct 7 09:48:38 2020 +0200", "commit_message": "Updates auth-service's interface", "files_name": ["docs/example-data.json", "docs/interfaces/auth-service.txt"]}, {"commit_id": "e9311083f21bdacbaf09f51a513bdf5206faeb2b", "commit_date": "Mon Oct 12 16:20:07 2020 +0200", "commit_message": "Merge pull request #5620 from jsangmeister/add-on-delete", "files_name": ["064006474de37d9ef956defb05514ef3f1cedfec - Thu Oct 8 14:08:00 2020 +0200 : Add on_delete, meeting_id and equal_fields", "docs/models.yml"]}, {"commit_id": "9d52faaa6d626f5686d3f0cdb073bf50b110dcb1", "commit_date": "Mon Oct 12 14:46:20 2020 +0200", "commit_message": "Merge pull request #5605 from FinnStutzenstein/models", "files_name": ["2cc81c0168e05a88cc5753c4e0423aaced03d099 - Mon Oct 5 11:15:14 2020 +0200 : OS4 Models: Add configuration and adopt schema changes in OS3", ".github/workflows/models.yml", "docs/example-data.json", "docs/models.txt", "docs/models.yml"]}, {"commit_id": "3e655d3f12da5d70ed7679ebc70561e3c85b8f5c", "commit_date": "Mon Oct 12 11:54:28 2020 +0200", "commit_message": "Merge pull request #5626 from jsangmeister/add-default-agenda-item-type", "files_name": ["f511b2f722c77e8eee572f8a83090327447ed613 - Mon Oct 12 11:48:23 2020 +0200 : Add default type to agenda item", "docs/models.yml"]}, {"commit_id": "c83a82337b56955cebca565894cde06f1b3ecb56", "commit_date": "Thu Oct 8 09:31:14 2020 +0200", "commit_message": "Merge pull request #5612 from jsangmeister/fix-html-permissive", "files_name": ["b311525b7daf9fa9d8cd80d292b416d6f0048bf5 - Tue Oct 6 15:28:10 2020 +0200 : Fix typo", ".github/workflows/models.yml", "docs/models.yml"]}, {"commit_id": "31d6f93033ff4eaf03034d9ef2dd8d0670961446", "commit_date": "Thu Oct 8 09:11:26 2020 +0200", "commit_message": "Merge pull request #5619 from FinnStutzenstein/update", "files_name": ["1891cc7e0b1ee346e6aef0996f9d82ef0fbe5495 - Thu Oct 8 08:29:04 2020 +0200 : Update services", "docker-compose.dev.yml", "openslides-autoupdate-service", "openslides-backend", "openslides-client", "openslides-datastore-service"]}, {"commit_id": "08b4f023cc37a2a88133498a617fb9a651830c88", "commit_date": "Thu Oct 8 07:41:49 2020 +0200", "commit_message": "Merge pull request #5615 from GabrielInTheWorld/update-auth-service", "files_name": ["39714047644c3ed5e3350a00b2bd8767133521dc - Wed Oct 7 12:02:50 2020 +0200 : Updates auth-service", "openslides-auth-service"]}, {"commit_id": "34dcb91744b7dd438c90572e758bc88ac78e08c1", "commit_date": "Tue Oct 6 15:14:47 2020 +0200", "commit_message": "Merge pull request #5593 from jsangmeister/adjust-models-yml", "files_name": ["ba03281c17d3e26c9f5b7fa042ba1be880875133 - Thu Oct 1 14:14:09 2020 +0200 : Adjust models.yml"]}], "windows_after": [{"commit_id": "a85a5458c64ec1dadb167a6b723e71b40400d696", "commit_date": "Tue Nov 24 15:25:48 2020 +0100", "commit_message": "Change the category prefix to optional", "files_name": ["docs/models.yml"]}, {"commit_id": "c62cc7851d1395687686cc56f6c9171a560cde8d", "commit_date": "Tue Nov 24 16:38:07 2020 +0100", "commit_message": "Deletes old docker-compose and adds a port to auth-service", "files_name": ["docker-compose.dev.yml", "docker/docker-compose.dev.yml"]}, {"commit_id": "5019403a8ef0f7ba714752778c4d0751dda923f4", "commit_date": "Wed Nov 25 12:14:57 2020 +0100", "commit_message": "Merge pull request #5722 from GabrielInTheWorld/new-compose", "files_name": ["62f40d1447f3c040420aa7d85ed8a045c2f9e148 - Wed Nov 25 12:17:01 2020 +0100 : move atomic parameter", "docs/interfaces/action-service.txt"]}, {"commit_id": "99b0bc6e3b70103a4c08010886fb21cb4edcbc16", "commit_date": "Wed Nov 11 12:02:23 2020 +0100", "commit_message": "Restructure polls", "files_name": [".github/workflows/models.yml", ".gitignore", "docs/example-data.json", "docs/models.yml", "docs/modelsvalidator/README.md", "docs/modelsvalidator/cmd/modelsvalidator/main.go", "docs/modelsvalidator/go.mod", "docs/modelsvalidator/go.sum", "docs/modelsvalidator/models/check.go", "docs/modelsvalidator/models/check_test.go", "docs/modelsvalidator/models/error.go", "docs/modelsvalidator/models/models.go", "openslides-client"]}, {"commit_id": "ed93d873a7e2f63d65d07117ee65c35819ef31b9", "commit_date": "Thu Nov 26 09:17:22 2020 +0100", "commit_message": "Add number_value to motion model.", "files_name": ["docs/models.yml"]}, {"commit_id": "4f02a236b479446ff492883659488a28e4cd22ef", "commit_date": "Fri Nov 27 10:47:02 2020 +0100", "commit_message": "small changes", "files_name": ["docs/interfaces/action-service.txt"]}, {"commit_id": "4c1f7b123aa9143e940ec2ea2c55c8680df6086b", "commit_date": "Tue Dec 1 11:51:14 2020 +0100", "commit_message": "Merge pull request #5698 from FinnStutzenstein/pollRestructure", "files_name": ["9826e763af92c9cab843e2c027bc0fbf077aae84 - Tue Dec 1 13:45:29 2020 +0100 : Propagate changes in OS3", "docs/example-data.json", "docs/models.yml", "docs/modelsvalidator/README.md"]}, {"commit_id": "a87901aee0ad7c8db94412b6ae72e6dea1bab83d", "commit_date": "Tue Dec 1 13:54:35 2020 +0100", "commit_message": "Merge pull request #5741 from FinnStutzenstein/models", "files_name": ["315bd7cdf3fcc6a0f222bd841fe6a6234457d1e3 - Tue Dec 1 14:37:43 2020 +0100 : Merge pull request #5696 from FinnStutzenstein/actionServiceInterface", "50129c6fd064c6ec0af7c74be8ab551ca53e1303 - Tue Dec 1 16:50:46 2020 +0100 : Update auth-service's interface", "docs/interfaces/auth-service.txt"]}, {"commit_id": "a8f097ded4198c35ffc8283b6f228e57b5aaa6fa", "commit_date": "Thu Dec 3 10:40:47 2020 +0100", "commit_message": "Refine poll modelling", "files_name": ["docs/example-data.json", "docs/modellierung.drawio", "docs/models.yml"]}, {"commit_id": "d983925930dddf5f8e86d3d796a55b622ff91311", "commit_date": "Thu Dec 3 10:43:02 2020 +0100", "commit_message": "Merge pull request #5753 from FinnStutzenstein/refinePolls", "files_name": ["7f9f12e750b5f5099cf74232f853151b2e5bc21f - Fri Dec 4 16:17:37 2020 +0100 : Change modellierung.drawio", "docs/modellierung.drawio"]}, {"commit_id": "09d0f740c2629b7fb6bd67988f106654af8f3a61", "commit_date": "Fri Dec 4 16:19:47 2020 +0100", "commit_message": "Merge pull request #5756 from FinnStutzenstein/changeDocs", "files_name": ["8c59d1090c27356d579ef863cf5f27b4c7a87790 - Mon Dec 7 14:31:08 2020 +0100 : Update models.py", "docs/models.yml"]}, {"commit_id": "9504f2fb731789507fbc46a6858427774ea9f803", "commit_date": "Tue Dec 8 08:36:09 2020 +0100", "commit_message": "Fix example data", "files_name": ["docs/example-data.json"]}, {"commit_id": "cbe1a133f43c6d2af5d9fbf73639cf06bcc5c7f2", "commit_date": "Tue Dec 8 08:37:34 2020 +0100", "commit_message": "Merge pull request #5758 from FinnStutzenstein/fixExampleData", "files_name": ["b2909e0f1c0b87c9e4b9a0f2b43eae4ddabb58d1 - Tue Dec 8 08:39:17 2020 +0100 : Merge pull request #5728 from reiterl/dev_model_number_value", "67f33120905e474e2a4bb7ed1dffc3f919bfe1ee - Tue Dec 8 10:05:00 2020 +0100 : Update mediaservice interface", "docs/interfaces/media-service.txt"]}, {"commit_id": "bbb355cc050c9f69b28768556c1328f86f27c701", "commit_date": "Tue Dec 8 10:06:13 2020 +0100", "commit_message": "Merge pull request #5759 from FinnStutzenstein/updateMediafileInterface", "files_name": ["a366c54afe82ab0739a817cfdf4b1ec1ae2f1737 - Thu Dec 10 12:01:06 2020 +0100 : Update Submodules", "openslides-auth-service", "openslides-autoupdate-service", "openslides-backend", "openslides-client"]}, {"commit_id": "253126723fef71f59f2cb740c6f80bc74458ef98", "commit_date": "Thu Dec 10 12:02:33 2020 +0100", "commit_message": "Merge pull request #5767 from FinnStutzenstein/update", "files_name": ["7648c9c70f549d639078ab312b0af0f1e068942d - Wed Dec 16 11:38:34 2020 +0100 : Remove allow_multiple_votes_per_candidate", "docs/models.yml"]}, {"commit_id": "8a36731d8035fe10bae4ebbdeb2d8221e5fb20a4", "commit_date": "Thu Dec 10 13:52:22 2020 +0100", "commit_message": "Removed redundant information from models.yml and adjusted validator", "files_name": ["docs/models.yml", "docs/modelsvalidator/README.md", "docs/modelsvalidator/models/models.go"]}, {"commit_id": "3dbc5f29daa5e5ddfa5bdbce56336720962a4b7f", "commit_date": "Thu Dec 17 10:31:36 2020 +0100", "commit_message": "Merge pull request #5769 from jsangmeister/update-models", "files_name": ["e3af800597103799e5bca2555fbd65d2cd634808 - Thu Dec 17 10:56:06 2020 +0100 : Fix models", "docs/models.yml"]}, {"commit_id": "d224571373311fa35f22f6103ec6f2ee75f08800", "commit_date": "Thu Dec 17 11:03:22 2020 +0100", "commit_message": "Merge pull request #5782 from jsangmeister/fix-models", "files_name": ["a3dce30e1df12f72316eafa2d42461a5c07487d8 - Thu Dec 17 15:22:01 2020 +0100 : Merge pull request #5776 from reiterl/dev_model_rm_option", "a8a5890d2092fc1d961d3c1ed63abfa0b4b5581a - Fri Dec 18 11:36:50 2020 +0100 : Remove equal_fields meetings from supporter_ids.", "docs/models.yml"]}, {"commit_id": "1c5b4a5c9e70077dbe51de0ea5a1929aebdf3f32", "commit_date": "Sat Jan 2 21:30:28 2021 +0100", "commit_message": "More clear enums", "files_name": ["docs/models.yml"]}, {"commit_id": "2504fbb307323f8e5de387417a0f36944ea6ed6e", "commit_date": "Mon Jan 4 15:46:22 2021 +0100", "commit_message": "Rename meeting superadmin to just admin", "files_name": ["docs/models.yml"]}, {"commit_id": "c2e46afbd1e95a3ae6df5bb732c295cb50c78ff8", "commit_date": "Tue Jan 5 08:11:03 2021 +0100", "commit_message": "Merge pull request #5785 from reiterl/dev_model_supporter", "files_name": ["98c2f5c332698bb49716b5efc04912e21b0c86fe - Wed Jan 6 11:32:16 2021 +0100 : Use openslides-models-to-go", ".github/workflows/models.yml", "docs/modelsvalidator/check/check.go", "docs/modelsvalidator/check/check_test.go", "docs/modelsvalidator/check/error.go", "docs/modelsvalidator/go.mod", "docs/modelsvalidator/go.sum", "docs/modelsvalidator/main.go", "docs/modelsvalidator/models/models.go"]}, {"commit_id": "3c50e18cb3ad667e125d6e087635c38ef82625cd", "commit_date": "Wed Jan 6 11:39:21 2021 +0100", "commit_message": "Merge pull request #5793 from ostcar/modelsvalidate_external_lib", "files_name": ["b85a981dfefd668393cffea92bc41f1cb06b52c3 - Wed Jan 6 20:26:22 2021 +0100 : Added some descriptions.", "docs/models.yml"]}, {"commit_id": "1ad58c503c98dd7ef9ca8d650762174b8c5bac1b", "commit_date": "Thu Jan 7 09:17:33 2021 +0100", "commit_message": "Add OS3 secrets to gitignore", "files_name": [".gitignore"]}, {"commit_id": "6db4f681360d687fec6e1627153f36b93b736081", "commit_date": "Thu Jan 7 09:19:03 2021 +0100", "commit_message": "Merge pull request #5796 from FinnStutzenstein/gitignore", "files_name": ["a1702b0b8d4e24fc667fc2535c69ef6431de64d4 - Thu Jan 7 16:46:21 2021 +0100 : Remove supporters autoremove", "docs/models.yml"]}, {"commit_id": "2399414a4f088fe9a9e284881a18b188c641c8bb", "commit_date": "Thu Jan 7 16:49:11 2021 +0100", "commit_message": "Merge pull request #5794 from normanjaeckel/Docs", "files_name": ["45289663c5a1eadfdac34ba9b48c988661eb9676 - Thu Jan 7 16:52:19 2021 +0100 : Merge pull request #5790 from ostcar/models-changes", "ec9cdfc7a9a679f71cfec10a38832d1bab1bf32c - Tue Jan 5 19:09:50 2021 +0100 : Fix permissions in example data", "docs/example-data.json"]}, {"commit_id": "14ae5736d2a642c6fab7a77d9f3cd73a54828aa5", "commit_date": "Thu Jan 7 17:02:42 2021 +0100", "commit_message": "Merge pull request #5792 from ostcar/example_data_permission_rename", "files_name": ["91f2360550bd596fe6f70269f31b13a30fdc6668 - Thu Jan 7 17:28:16 2021 +0100 : permission interface", "docs/interfaces/permission-service.txt"]}, {"commit_id": "3a3ac21e8a398b877b47bbf5942fb13145d96184", "commit_date": "Thu Jan 7 17:30:39 2021 +0100", "commit_message": "Updating submodules", "files_name": ["openslides-autoupdate-service", "openslides-backend", "openslides-datastore-service", "openslides-media-service", "openslides-permission-service"]}, {"commit_id": "5098d71891c801f748fb76e222244a7313425c50", "commit_date": "Thu Jan 7 17:31:51 2021 +0100", "commit_message": "Merge pull request #5799 from FinnStutzenstein/update", "files_name": ["f2f9000dec79a60da44b23fc2add7d898a633d2f - Fri Jan 8 09:40:54 2021 +0100 : Merge pull request #5798 from ostcar/permission-interface", "fecec21a0f1e45ea2e970533e77e4a4575b630dd - Fri Jan 8 15:11:24 2021 +0100 : Update initial data", "docker/initial-data.json"]}, {"commit_id": "4d2ba5447ac1a1c8a0a092e48915edc5ef2b8183", "commit_date": "Mon Jan 11 14:47:47 2021 +0100", "commit_message": "Updates environment for autoupdate", "files_name": ["docker/docker-compose.dev.yml"]}, {"commit_id": "29e79eefb4721a8196cfde3461a83ac4f4e44fef", "commit_date": "Mon Jan 11 15:54:44 2021 +0100", "commit_message": "Merge pull request #5806 from GabrielInTheWorld/fix-auth-environment", "files_name": ["7854487e4ff7e835557391d151659e455751b5d8 - Tue Jan 12 08:37:54 2021 +0100 : Merge pull request #5803 from tsiegleauq/adjust-initial-data", "62cc57c54b8cfda49321cc66759d9f66e4d8929c - Tue Jan 12 08:40:51 2021 +0100 : Merge pull request #5723 from FinnStutzenstein/categoryPrefixOptional", "c9f14d8b78d2594daee73c5cbe53b853f20dbb71 - Tue Jan 12 09:56:57 2021 +0100 : update OS4 submodules", ".gitignore", "docker/docker-compose.dev.yml", "openslides-auth-service", "openslides-autoupdate-service", "openslides-backend", "openslides-client", "openslides-datastore-service", "openslides-media-service", "openslides-permission-service"]}, {"commit_id": "118876dcc104bced81e42a2f74f89d4be6c8b42b", "commit_date": "Tue Jan 12 09:58:08 2021 +0100", "commit_message": "Merge pull request #5808 from FinnStutzenstein/update", "files_name": ["08691f3a1fa798d0480a91add296b7a363167099 - Thu Dec 10 13:12:40 2020 +0100 : Update Datastore interface", "docs/interfaces/datastore-service.txt"]}, {"commit_id": "5844eabb952590633b927aa3969497f75341f256", "commit_date": "Tue Jan 12 14:58:21 2021 +0100", "commit_message": "more docs & rename max_position", "files_name": ["docs/interfaces/datastore-service.txt"]}, {"commit_id": "7c3e334677411a29e1fd6efafdfe7912b3368b77", "commit_date": "Tue Jan 12 16:17:06 2021 +0100", "commit_message": "Add default test resource", "files_name": ["docs/example-data.json", "openslides-media-service", "services.env"]}, {"commit_id": "0d2ce2cf2980c9775c0c1a8fa26a54892b1fe9cb", "commit_date": "Tue Jan 12 16:18:26 2021 +0100", "commit_message": "Merge pull request #5809 from FinnStutzenstein/resources", "files_name": ["b825fb2a35b5271e05d3efb7fae23edc08380f5e - Tue Jan 12 16:25:58 2021 +0100 : Merge pull request #5768 from FinnStutzenstein/updateDSInterface", "24b435bc467935fe4a4c8e1b799d997b9dd45ef8 - Thu Dec 17 11:15:15 2020 +0100 : Add config defaults to the settings in model.yml", "docs/models.yml"]}, {"commit_id": "926e7482b1b5462d3a1bb05f78c89ff9e96a53a3", "commit_date": "Wed Jan 13 11:23:24 2021 +0100", "commit_message": "Update defaults.", "files_name": ["docs/models.yml"]}, {"commit_id": "f0a4dc52d51be3589fcd7ed9efd0b81edadf0553", "commit_date": "Thu Jan 14 08:54:57 2021 +0100", "commit_message": "Merge pull request #5783 from reiterl/dev_model_config", "files_name": ["9abf787d99f1f7126e118bb8c2c72fd90fbe9760 - Thu Jan 14 15:05:33 2021 +0100 : Merge pull request #5704 from jsangmeister/datastore-partial-list-updates", "c6b1a254a05d0727aaf7fa1e1b66bd683cca9915 - Fri Jan 8 12:45:30 2021 +0100 : Added meeting specific fields for users and changed role system.", "docker/initial-data.json", "docs/example-data.json", "docs/models.yml", "docs/modelsvalidator/check_json.py", "openslides-auth-service", "openslides-client", "openslides-media-service", "openslides-permission-service"]}, {"commit_id": "a949dc7006c79f79d4ebe880946a5f3337e79a99", "commit_date": "Fri Jan 22 15:27:26 2021 +0100", "commit_message": "Merge pull request #5802 from normanjaeckel/ChangedModelsForUsers", "files_name": ["2360665a6f5ae84ca0c55c18496c33f1499f8c55 - Wed Jan 27 12:22:30 2021 +0100 : update submodules", "openslides-autoupdate-service", "openslides-client", "openslides-permission-service"]}, {"commit_id": "7502569211d86e930dcaf22964b7afdf85e02b19", "commit_date": "Wed Jan 27 12:41:31 2021 +0100", "commit_message": "Merge pull request #5827 from FinnStutzenstein/update", "files_name": ["5d82a05608ce6c776c629501825f6477bcc2a45d - Thu Jan 28 13:36:11 2021 +0100 : Fix initial data", "docker/initial-data.json"]}, {"commit_id": "41956313b540019f47c94c728f82e7284ee00545", "commit_date": "Sat Jan 30 13:29:52 2021 +0100", "commit_message": "Added permissions to models.yml", "files_name": ["docs/models.yml"]}], "parents": [{"commit_id_before": "bed9b3a958d66b88b9bef775eca49f9ee53d2297", "url_before": "https://api.github.com/repos/OpenSlides/OpenSlides/commits/bed9b3a958d66b88b9bef775eca49f9ee53d2297", "html_url_before": "https://github.com/OpenSlides/OpenSlides/commit/bed9b3a958d66b88b9bef775eca49f9ee53d2297"}], "details": [{"raw_url": "https://github.com/OpenSlides/OpenSlides/raw/f3809fc8a97ee305d721662a75f788f9e9d21938/server%2Fopenslides%2Futils%2Fvalidate.py", "code": "from typing import Any, List\n\nimport bleach\n\nfrom .rest_api import ValidationError\n\n\nallowed_tags_strict = [\n    \"a\",\n    \"img\",  # links and images\n    \"br\",\n    \"p\",\n    \"span\",\n    \"blockquote\",  # text layout\n    \"strike\",\n    \"del\",\n    \"ins\",\n    \"strong\",\n    \"u\",\n    \"em\",\n    \"sup\",\n    \"sub\",\n    \"pre\",  # text formatting\n    \"h1\",\n    \"h2\",\n    \"h3\",\n    \"h4\",\n    \"h5\",\n    \"h6\",  # headings\n    \"ol\",\n    \"ul\",\n    \"li\",  # lists\n    \"table\",\n    \"caption\",\n    \"thead\",\n    \"tbody\",\n    \"th\",\n    \"tr\",\n    \"td\",  # tables\n    \"div\",\n]\nallowed_tags_permissive = allowed_tags_strict + [\n    \"video\",\n]\n\nallowed_attributes = [\n    \"align\",\n    \"alt\",\n    \"autoplay\",\n    \"background\",\n    \"bgcolor\",\n    \"border\",\n    \"class\",\n    \"colspan\",\n    \"controls\",\n    \"dir\",\n    \"height\",\n    \"hidden\",\n    \"href\",\n    \"hreflang\",\n    \"id\",\n    \"lang\",\n    \"loop\",\n    \"muted\",\n    \"poster\",\n    \"preload\",\n    \"rel\",\n    \"rowspan\",\n    \"scope\",\n    \"sizes\",\n    \"src\",\n    \"srcset\",\n    \"start\",\n    \"style\",\n    \"target\",\n    \"title\",\n    \"width\",\n]\n\nallowed_styles = [\n    \"color\",\n    \"background-color\",\n    \"height\",\n    \"width\",\n    \"text-align\",\n    \"vertical-align\",\n    \"float\",\n    \"text-decoration\",\n    \"margin\",\n    \"padding\",\n    \"line-height\",\n    \"max-width\",\n    \"min-width\",\n    \"max-height\",\n    \"min-height\",\n    \"overflow\",\n    \"word-break\",\n    \"word-wrap\",\n]\n\n\ndef validate_html_strict(html: str) -> str:\n    \"\"\"\n    This method takes a string and escapes all non-whitelisted html entries.\n    Every field of a model that is loaded trusted in the DOM should be validated.\n    During copy and paste from Word maybe some tabs are spread over the html. Remove them.\n    \"\"\"\n    return base_validate_html(html, allowed_tags_strict)\n\n\ndef validate_html_permissive(html: str) -> str:\n    \"\"\"\n    See validate_html_strict, but allows some more tags, like iframes and videos.\n    Do not use on validation for normal users, only for admins!\n    \"\"\"\n    return base_validate_html(html, allowed_tags_permissive)\n\n\ndef base_validate_html(html: str, allowed_tags: List[str]) -> str:\n    \"\"\"\n    For internal use only.\n    \"\"\"\n    html = html.replace(\"\\t\", \"\")\n    return bleach.clean(\n        html, tags=allowed_tags, attributes=allowed_attributes, styles=allowed_styles\n    )\n\n\ndef validate_json(json: Any, max_depth: int) -> Any:\n    \"\"\"\n    Traverses through the JSON structure (dicts and lists) and runs\n    validate_html_strict on every found string.\n\n    Give max-depth to protect against stack-overflows. This should be the\n    maximum nested depth of the object expected.\n    \"\"\"\n\n    if max_depth == 0:\n        raise ValidationError({\"detail\": \"The JSON is too nested.\"})\n\n    if isinstance(json, dict):\n        return {key: validate_json(value, max_depth - 1) for key, value in json.items()}\n    if isinstance(json, list):\n        return [validate_json(item, max_depth - 1) for item in json]\n    if isinstance(json, str):\n        return validate_html_strict(json)\n\n    return json\n", "code_before": "from typing import Any, List\n\nimport bleach\n\nfrom .rest_api import ValidationError\n\n\nallowed_tags_strict = [\n    \"a\",\n    \"img\",  # links and images\n    \"br\",\n    \"p\",\n    \"span\",\n    \"blockquote\",  # text layout\n    \"strike\",\n    \"del\",\n    \"ins\",\n    \"strong\",\n    \"u\",\n    \"em\",\n    \"sup\",\n    \"sub\",\n    \"pre\",  # text formatting\n    \"h1\",\n    \"h2\",\n    \"h3\",\n    \"h4\",\n    \"h5\",\n    \"h6\",  # headings\n    \"ol\",\n    \"ul\",\n    \"li\",  # lists\n    \"table\",\n    \"caption\",\n    \"thead\",\n    \"tbody\",\n    \"th\",\n    \"tr\",\n    \"td\",  # tables\n    \"div\",\n]\nallowed_tags_permissive = allowed_tags_strict + [\n    \"video\",\n]\n\n\ndef allow_all(tag: str, name: str, value: str) -> bool:\n    return True\n\n\nallowed_attributes = allow_all\nallowed_styles = [\n    \"color\",\n    \"background-color\",\n    \"height\",\n    \"width\",\n    \"text-align\",\n    \"vertical-align\",\n    \"float\",\n    \"text-decoration\",\n    \"margin\",\n    \"padding\",\n    \"line-height\",\n    \"max-width\",\n    \"min-width\",\n    \"max-height\",\n    \"min-height\",\n    \"overflow\",\n    \"word-break\",\n    \"word-wrap\",\n]\n\n\ndef validate_html_strict(html: str) -> str:\n    \"\"\"\n    This method takes a string and escapes all non-whitelisted html entries.\n    Every field of a model that is loaded trusted in the DOM should be validated.\n    During copy and paste from Word maybe some tabs are spread over the html. Remove them.\n    \"\"\"\n    return base_validate_html(html, allowed_tags_strict)\n\n\ndef validate_html_permissive(html: str) -> str:\n    \"\"\"\n    See validate_html_strict, but allows some more tags, like iframes and videos.\n    Do not use on validation for normal users, only for admins!\n    \"\"\"\n    return base_validate_html(html, allowed_tags_permissive)\n\n\ndef base_validate_html(html: str, allowed_tags: List[str]) -> str:\n    \"\"\"\n    For internal use only.\n    \"\"\"\n    html = html.replace(\"\\t\", \"\")\n    return bleach.clean(\n        html, tags=allowed_tags, attributes=allowed_attributes, styles=allowed_styles\n    )\n\n\ndef validate_json(json: Any, max_depth: int) -> Any:\n    \"\"\"\n    Traverses through the JSON structure (dicts and lists) and runs\n    validate_html_strict on every found string.\n\n    Give max-depth to protect against stack-overflows. This should be the\n    maximum nested depth of the object expected.\n    \"\"\"\n\n    if max_depth == 0:\n        raise ValidationError({\"detail\": \"The JSON is too nested.\"})\n\n    if isinstance(json, dict):\n        return {key: validate_json(value, max_depth - 1) for key, value in json.items()}\n    if isinstance(json, list):\n        return [validate_json(item, max_depth - 1) for item in json]\n    if isinstance(json, str):\n        return validate_html_strict(json)\n\n    return json\n", "patch": "@@ -43,12 +43,40 @@\n     \"video\",\n ]\n \n+allowed_attributes = [\n+    \"align\",\n+    \"alt\",\n+    \"autoplay\",\n+    \"background\",\n+    \"bgcolor\",\n+    \"border\",\n+    \"class\",\n+    \"colspan\",\n+    \"controls\",\n+    \"dir\",\n+    \"height\",\n+    \"hidden\",\n+    \"href\",\n+    \"hreflang\",\n+    \"id\",\n+    \"lang\",\n+    \"loop\",\n+    \"muted\",\n+    \"poster\",\n+    \"preload\",\n+    \"rel\",\n+    \"rowspan\",\n+    \"scope\",\n+    \"sizes\",\n+    \"src\",\n+    \"srcset\",\n+    \"start\",\n+    \"style\",\n+    \"target\",\n+    \"title\",\n+    \"width\",\n+]\n \n-def allow_all(tag: str, name: str, value: str) -> bool:\n-    return True\n-\n-\n-allowed_attributes = allow_all\n allowed_styles = [\n     \"color\",\n     \"background-color\",", "file_path": "files/2020_12/193", "file_language": "py", "file_name": "server/openslides/utils/validate.py", "outdated_file_modify": 0, "outdated_file_before": 0, "outdated_file_after": 0, "llm_check": 1, "static_check": 0, "static": {"rats": [false, []], "semgrep": [false, []]}, "target": -1, "function_before": [], "function_after": []}], "outdated": 0, "cwe_descripiton": "", "cwe_consequence": "", "cwe_method": "", "cwe_solution": ""}
