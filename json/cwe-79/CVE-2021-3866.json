{"index": 7093, "cve_id": "CVE-2021-3866", "cwe_id": ["CWE-79"], "cve_language": "Python", "cve_description": "Cross-site Scripting (XSS) - Stored in GitHub repository zulip/zulip more than and including 44f935695d452cc3fb16845a0c6af710438b153d and prior to 3eb2791c3e9695f7d37ffe84e0c2184fae665cb6.", "cvss": "5.4", "publish_date": "January 20, 2022", "AV": "NETWORK", "AC": "NETWORK", "PR": "LOW", "UI": "REQUIRED", "S": "CHANGED", "C": "LOW", "I": "LOW", "A": "NONE", "commit_id": "3eb2791c3e9695f7d37ffe84e0c2184fae665cb6", "commit_message": "CVE-2021-3853: Fix HTML escaping in recipient_row.\n\nCommit 44f935695d452cc3fb16845a0c6af710438b153d (#20462) incorrectly\nadded these extra braces while intending to add whitespace control.\nThis triple-brace syntax was asking Handlebars to skip escaping the\nstring.\n\nSigned-off-by: Anders Kaseorg <anders@zulip.com>", "commit_date": "2022-01-19T05:28:21Z", "project": "zulip/zulip", "url": "https://api.github.com/repos/zulip/zulip/commits/3eb2791c3e9695f7d37ffe84e0c2184fae665cb6", "html_url": "https://github.com/zulip/zulip/commit/3eb2791c3e9695f7d37ffe84e0c2184fae665cb6", "windows_before": [{"commit_id": "3659d95092f3e835ef610b6ccb4ae0b33ca74b86", "commit_date": "Tue Jan 18 17:14:03 2022 -0800", "commit_message": "developer docs: Update GSoC documentation.", "files_name": ["docs/contributing/gsoc-ideas.md"]}, {"commit_id": "677467f0404657b32723bb6aae5f03a00f62d7b0", "commit_date": "Wed Jan 19 03:43:17 2022 +0000", "commit_message": "upgrade-zulip-from-git: Fix upstream URL for existing deploys.", "files_name": ["scripts/lib/upgrade-zulip-from-git"]}, {"commit_id": "bad58cdca6f129808a841aadfcdfe3ea2876359a", "commit_date": "Wed Jan 19 01:21:14 2022 +0000", "commit_message": "upgrade-zulip-from-git: Fix the upstream URL not be the custom remote.", "files_name": ["scripts/lib/upgrade-zulip-from-git"]}, {"commit_id": "d4c70319eb08928864f02c981a11ecada7d8e0a9", "commit_date": "Tue Jan 18 06:09:35 2022 +0000", "commit_message": "topic_list: Fix search box not focused in expanded state.", "files_name": ["static/js/topic_list.js"]}, {"commit_id": "1178e015d1b634c09ab84486660c5e531db7a9e1", "commit_date": "Thu Jan 13 16:44:53 2022 -0800", "commit_message": "provision: Install non-PGDG PGroonga package in development environment.", "files_name": ["tools/lib/provision.py"]}, {"commit_id": "bb6dbb63838943bff846dfa908d027fff0433864", "commit_date": "Mon Jan 17 13:31:14 2022 +0530", "commit_message": "todo_widget: Tag \"Task list\" heading for translation.", "files_name": ["static/templates/widgets/todo_widget.hbs"]}, {"commit_id": "915c2b2fd9c0757ad35a6781051d6a160f607094", "commit_date": "Mon Jan 17 14:51:16 2022 -0800", "commit_message": "muting: Fix a race in topic unmuting.", "files_name": ["zerver/lib/actions.py", "zerver/views/muting.py"]}, {"commit_id": "6bc5849ea888e44b1fc014c1eaedba646e3223e7", "commit_date": "Thu Jan 13 01:37:27 2022 +0000", "commit_message": "puppet: Remove now-unused debathena apt repository.", "files_name": ["puppet/zulip_ops/manifests/apt_repository_debathena.pp", "puppet/zulip_ops/manifests/profile/zmirror.pp", "puppet/zulip_ops/manifests/profile/zmirror_personals.pp", "scripts/setup/apt-repos/zulip_debathena/bionic.list", "scripts/setup/apt-repos/zulip_debathena/debathena-archive.asc"]}, {"commit_id": "b3f07cc98d163fc8afbf376a4d2a5bf3d8bf79c0", "commit_date": "Thu Jan 13 01:35:40 2022 +0000", "commit_message": "puppet: Replace debathena zephyr package with equivalent puppet file.", "files_name": ["puppet/zulip_ops/files/zephyr-clients", "puppet/zulip_ops/manifests/profile/zmirror.pp", "puppet/zulip_ops/manifests/profile/zmirror_personals.pp"]}, {"commit_id": "a6d7539571ba4a8b9d2a05df2cca65f63c21fc6e", "commit_date": "Thu Jan 13 01:27:30 2022 +0000", "commit_message": "puppet: Replace debathena krb5 package with equivalent puppet file.", "files_name": ["puppet/zulip_ops/files/krb5.conf", "puppet/zulip_ops/manifests/profile/zmirror.pp", "puppet/zulip_ops/manifests/profile/zmirror_personals.pp"]}, {"commit_id": "75224ea5def9955d9e3ff8963cb511a26dab7326", "commit_date": "Thu Jan 13 00:32:50 2022 +0000", "commit_message": "puppet: python-dev is now purely virtual; install python2.7-dev.", "files_name": ["puppet/zulip_ops/manifests/profile/zmirror.pp", "puppet/zulip_ops/manifests/profile/zmirror_personals.pp"]}, {"commit_id": "f8b06ed952283411b9bf712eb5b2789cdd4e1106", "commit_date": "Fri Jan 14 22:54:49 2022 +0100", "commit_message": "events: Send invites_changed event if user deactivation revokes invites.", "files_name": ["zerver/lib/actions.py", "zerver/tests/test_events.py"]}, {"commit_id": "74d2aea76aee6443259475df5d4a6c47101ec934", "commit_date": "Fri Jan 14 22:50:27 2022 +0100", "commit_message": "apply_events: Update state[\"subscribers\"] upon \"remove user\" event.", "files_name": ["zerver/lib/events.py", "zerver/tests/test_events.py"]}, {"commit_id": "dd1c9c45c778dc5280c2b02c3b9fb327d2507cc1", "commit_date": "Sun Jan 16 14:15:53 2022 +0000", "commit_message": "stream colors: Try harder to avoid collisions.", "files_name": ["zerver/lib/actions.py", "zerver/tests/test_subs.py"]}, {"commit_id": "039910a15974dd97b70b3317475bfa5e7b0876d0", "commit_date": "Tue Dec 28 18:22:10 2021 +0000", "commit_message": "ts: Convert lazy_set module to typescript.", "files_name": ["static/js/lazy_set.ts"]}, {"commit_id": "d0c339e772664bd76bd24158b7ec0446bc19690e", "commit_date": "Sun Jan 9 06:59:08 2022 +0000", "commit_message": "lazy_set: Return set from the _make_set method.", "files_name": ["static/js/lazy_set.js"]}, {"commit_id": "84958bf7eb4378d5b9d1ef826c2b80c82afe6657", "commit_date": "Tue Dec 28 18:20:15 2021 +0000", "commit_message": "lazy_set: Move the size getter above other methods.", "files_name": ["static/js/lazy_set.js"]}, {"commit_id": "16a3d444fd1a1fd6342ed7c958a5fd92c440b249", "commit_date": "Sun Dec 26 19:47:19 2021 +0000", "commit_message": "lazy_set: Move set and array properties to the data field.", "files_name": ["static/js/lazy_set.js"]}, {"commit_id": "be486b61384b2950255e0be5939a254b1819274c", "commit_date": "Sun Jan 9 20:39:36 2022 +0530", "commit_message": "i18n: Fix 'add choice' / 'add task' button size.", "files_name": ["static/styles/widgets.css"]}, {"commit_id": "06cba4ae1f7818a0369f99f89b7bf7d3586e1eee", "commit_date": "Mon Jan 3 23:35:56 2022 +0530", "commit_message": "actions: Use transaction.atomic in do_change_bot_owner.", "files_name": ["zerver/lib/actions.py"]}, {"commit_id": "7c4415113514f3fdebc57cf0f945a53aad7a8e52", "commit_date": "Mon Jan 3 23:24:14 2022 +0530", "commit_message": "actions: Use transaction.atomic in do_change_tos_version.", "files_name": ["zerver/lib/actions.py"]}, {"commit_id": "06d715a41dcc6bac26d9413be305434be1c299d0", "commit_date": "Mon Jan 3 16:52:59 2022 +0530", "commit_message": "actions: Use transaction.atomic in do_change_icon_source.", "files_name": ["zerver/lib/actions.py"]}, {"commit_id": "64d1dc65255c9b4304cd03eb5f8ad61013abad00", "commit_date": "Mon Jan 3 16:51:58 2022 +0530", "commit_message": "actions: Use transaction.atomic in do_change_logo_source.", "files_name": ["zerver/lib/actions.py"]}, {"commit_id": "8945a64024b66db06ed89cc79c342d6117feacc1", "commit_date": "Mon Jan 3 16:51:13 2022 +0530", "commit_message": "actions: Use transaction.atomic in do_change_realm_org_type.", "files_name": ["zerver/lib/actions.py"]}, {"commit_id": "c8f81ded4e7d7be52506108c056ce1b9d4dfba5a", "commit_date": "Mon Jan 3 15:46:25 2022 +0530", "commit_message": "actions: Use transaction.atomic in do_change_default_sending_stream.", "files_name": ["zerver/lib/actions.py"]}, {"commit_id": "cb43bdab93ec3d40b01ef258b89ea8139d389ddf", "commit_date": "Mon Jan 3 15:44:50 2022 +0530", "commit_message": "actions: Use transaction.atomic for do_change_default_all_public_streams.", "files_name": ["zerver/lib/actions.py"]}, {"commit_id": "4a7461361e1a1c9d65126ed00b63c008a9356a17", "commit_date": "Mon Jan 3 15:37:25 2022 +0530", "commit_message": "actions: Use transaction.atomic for do_change_default_events_register_stream.", "files_name": ["zerver/lib/actions.py"]}, {"commit_id": "5c758af3b4c91ad10785382e14bce2320b4e47e7", "commit_date": "Mon Jan 3 15:31:43 2022 +0530", "commit_message": "actions: Use transaction.atomic for do_change_user_setting.", "files_name": ["zerver/lib/actions.py"]}, {"commit_id": "fc1adef28ad804a09c7e623d86289b458ef10ad4", "commit_date": "Mon Jan 17 13:36:41 2022 -0800", "commit_message": "puppet: Fix server_name of internal staging server.", "files_name": ["puppet/zulip_ops/files/nginx/sites-available/zulip-staging"]}, {"commit_id": "7e630b81f8eee26030a8b4435894746f0ba339e6", "commit_date": "Mon Jan 17 13:35:19 2022 -0800", "commit_message": "puppet: Switch to using snakeoil certs for staging.", "files_name": ["puppet/zulip_ops/files/nginx/sites-available/zulip-staging"]}, {"commit_id": "a812d93c2495fdd790d93f9d66a1b9fc3e44cab2", "commit_date": "Mon Jan 17 21:29:17 2022 +0100", "commit_message": "corporate: Fix wrong hyperlink in /policies/terms.", "files_name": ["templates/corporate/policies/terms.md"]}, {"commit_id": "fb4d9764fa190d09ea96d1c1c64bb3da73649e7e", "commit_date": "Tue Jan 18 11:41:29 2022 -0800", "commit_message": "puppet: Bump Grafana version, for 8.3.4. security release.", "files_name": ["puppet/zulip/manifests/common.pp"]}, {"commit_id": "35960be510237513c9302011f1206b2260eca646", "commit_date": "Mon Jan 17 10:56:12 2022 +0000", "commit_message": "puppeteer: Disable test_invalid_edit_bot_form().", "files_name": ["frontend_tests/puppeteer_tests/settings.ts"]}, {"commit_id": "19f891968de50d43920af63526c823bdd233cdee", "commit_date": "Thu Jan 13 16:22:37 2022 -0800", "commit_message": "markdown: Increase the maximum number of image previews per message.", "files_name": ["zerver/lib/markdown/__init__.py"]}, {"commit_id": "1dfddffc8dac744fd6a6fbfd937018074c8bb166", "commit_date": "Thu Jan 13 18:23:49 2022 -0800", "commit_message": "profile_request: Use modern Django middleware API.", "files_name": ["zilencer/management/commands/profile_request.py"]}, {"commit_id": "5bb8520c8221b5f96c391efb4c5ae9817c295f27", "commit_date": "Thu Jan 13 18:38:40 2022 -0800", "commit_message": "computed_settings: Remove deprecated Jinja2 autoescape extension.", "files_name": ["zproject/computed_settings.py"]}, {"commit_id": "6e00d6f97a981ec64e088c080b65c90005101155", "commit_date": "Thu Jan 13 18:04:48 2022 -0800", "commit_message": "change_password: Set requires_system_checks to a list.", "files_name": ["zerver/management/commands/change_password.py"]}, {"commit_id": "9e70a47f93ad422cadc9d26c656cc8c02e08805e", "commit_date": "Thu Jan 13 19:47:42 2022 -0800", "commit_message": "test_push_notifications: Close event loops.", "files_name": ["zerver/tests/test_push_notifications.py"]}, {"commit_id": "87b4e9259ff5e1774977599fb2ea7912479e70e3", "commit_date": "Thu Jan 13 14:35:46 2022 -0800", "commit_message": "documentation: Replace deprecated request.is_ajax() method.", "files_name": ["zerver/views/documentation.py"]}, {"commit_id": "4147da24dd19276a64d2f148ce566e8cb3ec0685", "commit_date": "Thu Jan 13 14:24:16 2022 -0800", "commit_message": "tests: Use read_test_image_file.", "files_name": ["zerver/tests/test_auth_backends.py", "zerver/tests/test_slack_importer.py", "zerver/tests/test_transfer.py", "zerver/tests/test_upload.py"]}, {"commit_id": "031f4596ab1737a237b1c099e792fe627a937ff7", "commit_date": "Tue Jan 11 18:08:52 2022 -0800", "commit_message": "openapi: Use openapi_core ResponseValidator to validate responses.", "files_name": ["pyproject.toml", "zerver/openapi/openapi.py", "zerver/tests/test_openapi.py"]}, {"commit_id": "4cd5e0e57804dd9d740e16c21c5340ebfde2df47", "commit_date": "Tue Jan 11 17:14:00 2022 -0800", "commit_message": "openapi: Fix display_brief_error not to rely on naively_merge_allOf.", "files_name": ["zerver/openapi/openapi.py"]}, {"commit_id": "86c39e5792392c9e42b84e0e441b993a2d202f9f", "commit_date": "Tue Jan 11 21:14:04 2022 -0800", "commit_message": "test_openapi: Make testing.yml a full conformant specification.", "files_name": ["zerver/openapi/testing.yaml", "zerver/tests/test_openapi.py"]}, {"commit_id": "465ea4ac511594722a9dad77f893bd49081e39b1", "commit_date": "Wed Jan 12 20:00:50 2022 -0800", "commit_message": "openapi: Validate Python example responses against the entire schema.", "files_name": ["zerver/openapi/python_examples.py"]}, {"commit_id": "02c1196e3e79ef8a4f29638ceb8c09e8335c550f", "commit_date": "Wed Jan 12 19:57:39 2022 -0800", "commit_message": "openapi: Merge success examples for POST users/me/subscriptions.", "files_name": ["zerver/openapi/python_examples.py", "zerver/openapi/zulip.yaml"]}, {"commit_id": "e9fd52da013b5392b8731b8a013bfa9da765b6c8", "commit_date": "Wed Jan 12 17:41:20 2022 -0800", "commit_message": "openapi: Mark subscribe error as a JsonError.", "files_name": ["zerver/openapi/zulip.yaml"]}, {"commit_id": "a503d19eaeb2074031441dfa19fdf930952252fa", "commit_date": "Wed Jan 12 16:27:27 2022 -0800", "commit_message": "openapi: Declare items: {} for \u201cinherited\u201d array properties.", "files_name": ["zerver/openapi/zulip.yaml"]}, {"commit_id": "6c25c628b1164485b9174616a609c1cd95036b8a", "commit_date": "Tue Jan 11 19:35:40 2022 -0800", "commit_message": "openapi: Mark \u201cinherited\u201d nullable properties as nullable.", "files_name": ["zerver/openapi/zulip.yaml"]}, {"commit_id": "1cb397c1edb0dd62a8ea99f8635707f94a684e90", "commit_date": "Tue Jan 11 23:36:13 2022 -0800", "commit_message": "openapi: Remove additionalProperties: false from BasicStreamBase.", "files_name": ["zerver/openapi/zulip.yaml"]}, {"commit_id": "834542d097c19602a61e4d8b08dd5d945aa0423f", "commit_date": "Tue Jan 11 19:57:38 2022 -0800", "commit_message": "openapi: Don\u2019t forbid result, msg with additionalProperties: false.", "files_name": ["zerver/openapi/zulip.yaml"]}, {"commit_id": "bea64f8608baa42511c7c24a412387d9330b67c6", "commit_date": "Thu Jan 13 13:59:43 2022 -0800", "commit_message": "python: Convert deprecated Django ugettext alias to gettext again.", "files_name": ["zerver/lib/drafts.py", "zerver/webhooks/freshstatus/view.py", "zerver/webhooks/uptimerobot/view.py"]}, {"commit_id": "19b470c2602492da6275891e1c4592592cb152f1", "commit_date": "Wed Jan 12 19:47:10 2022 -0800", "commit_message": "openapi: Fix principals array type.", "files_name": ["zerver/openapi/zulip.yaml"]}, {"commit_id": "78e54a0d7a6629e5deae10b1aedfa634738af82e", "commit_date": "Thu Jan 13 13:54:47 2022 -0800", "commit_message": "python: Replace deprecated jinja2.utils.Markup with markupsafe.Markup.", "files_name": ["analytics/views/activity_common.py", "analytics/views/installation_activity.py", "zerver/forms.py", "zerver/lib/upload.py", "zerver/views/auth.py"]}, {"commit_id": "cf9483e6a983514545ac1b22c445bbb3e36aca55", "commit_date": "Thu Jan 13 18:27:23 2022 +0100", "commit_message": "api_docs: Fix typos in UserBase schema descriptions.", "files_name": ["zerver/openapi/zulip.yaml"]}, {"commit_id": "662fc64a651b90bcc39b269a3a8dc070c19168e8", "commit_date": "Thu Jan 13 17:52:46 2022 +0100", "commit_message": "api_docs: Update regex for generating code example fixture.", "files_name": ["zerver/openapi/markdown_extension.py"]}, {"commit_id": "434bda01c783a4aa41775434c05fac3d4a606f0a", "commit_date": "Wed Jan 12 15:38:31 2022 -0800", "commit_message": "puppet: Enable camo prometheus metrics.", "files_name": ["puppet/zulip/files/nginx/zulip-include-app.d/camo.conf", "puppet/zulip/templates/supervisor/go-camo.conf.erb"]}, {"commit_id": "5d01c377f7ab93078cd1481f7f17f4b806fb1b85", "commit_date": "Thu Jan 13 10:24:17 2022 -0800", "commit_message": "zjsunit: Restore necessary ternary conditions.", "files_name": ["frontend_tests/zjsunit/namespace.js"]}], "windows_after": [{"commit_id": "12eb52221b8d4e07d69673b010786524c8b974de", "commit_date": "Fri Jan 14 09:21:12 2022 +0530", "commit_message": "docs: Rename `contributing/gsoc-ideas` -> `contributing/gsoc`.", "files_name": ["CONTRIBUTING.md", "docs/contributing/gsoc.md", "docs/contributing/index.md"]}, {"commit_id": "ce5153adeedaa70c38c5ceac7e1566c77927c6df", "commit_date": "Wed Jan 19 11:39:19 2022 -0800", "commit_message": "CONTRIBUTING: Update GSoC guide link.", "files_name": ["CONTRIBUTING.md"]}, {"commit_id": "e7e422ff13b37289877877154185930f2b1cdccf", "commit_date": "Wed Jan 19 12:01:56 2022 -0800", "commit_message": "portico: Make minor fixes in Lean case study.", "files_name": ["templates/zerver/for/lean-case-study.md"]}, {"commit_id": "5f237cb34e7cc36ac1c30c39b72400360a97afae", "commit_date": "Tue Jan 18 23:23:43 2022 +0000", "commit_message": "puppet: Document that upgrades from Git require 3GB.", "files_name": ["docs/production/requirements.md"]}, {"commit_id": "7993aed530821b74974326ea71c9be601c7086a7", "commit_date": "Tue Nov 16 16:19:24 2021 +0100", "commit_message": "api_documentation: Render object details in parameter description.", "files_name": ["zerver/lib/markdown/api_arguments_table_generator.py"]}, {"commit_id": "7a1ed9a4cba72b668a3cf8299fc648291f2320a7", "commit_date": "Wed Jan 12 15:42:11 2022 -0500", "commit_message": "zilencer: Remove management command for adding remote server.", "files_name": ["zilencer/management/commands/add_remote_server.py"]}, {"commit_id": "fd303e3b1b7f9ec943da1df29f5053caa21d7aa2", "commit_date": "Mon Jan 17 21:57:31 2022 -0500", "commit_message": "docs: Update the release checklist for our PyPI packages.", "files_name": ["docs/subsystems/api-release-checklist.md"]}, {"commit_id": "19154f81c057f334c8795dd4952791743f023062", "commit_date": "Wed Jan 19 15:34:24 2022 -0800", "commit_message": "docs: Clarify purpose of zulip-announce.", "files_name": ["docs/production/settings.md"]}, {"commit_id": "3b9455c9cebf91df69a7b325eb64222d394d52e1", "commit_date": "Fri Jan 14 18:55:37 2022 -0500", "commit_message": "billing: Make all buttons the same size.", "files_name": ["static/styles/portico/billing.css", "templates/corporate/upgrade.html"]}, {"commit_id": "94c89c80d1ab228ebcadbcd54eeae33ebcfb29fd", "commit_date": "Mon Jan 10 16:17:22 2022 -0500", "commit_message": "team page: Display contributor count per repo.", "files_name": ["static/js/portico/team.js", "static/styles/portico/portico.css", "templates/zerver/team.html"]}, {"commit_id": "1e8a7bc97759c3a9bbd8a5dad48f0f5d6262f81e", "commit_date": "Wed Jan 12 16:44:09 2022 -0500", "commit_message": "team_page: Exclude dependabot from contributors.", "files_name": ["static/js/portico/team.js"]}, {"commit_id": "f2e7b92b024cfec6a9babace8298de9537925347", "commit_date": "Fri Jan 14 16:44:29 2022 -0500", "commit_message": "team_page: Display count of contributors with >=100 commits.", "files_name": ["static/js/portico/team.js", "templates/zerver/team.html"]}, {"commit_id": "1bd83c33abd8a6fb985371ace52e150b870e97f3", "commit_date": "Thu Jan 20 12:33:41 2022 -0800", "commit_message": "policies: Rename \"Terms of Use\" to \"Terms of Service\" in DPA.", "files_name": ["static/images/policies/Zulip-Data-Processing-Addendum.pdf"]}, {"commit_id": "ba7ea7cc809ace3e8ecf25311e54d78f62b0d0c8", "commit_date": "Thu Jan 20 20:51:51 2022 -0800", "commit_message": "test_classes: Extract assert_streaming_content helper.", "files_name": ["zerver/lib/test_classes.py", "zerver/tests/test_realm_export.py", "zerver/tests/test_upload.py"]}, {"commit_id": "db24eca8328c04b0ed0e869f5451cbc0887945f5", "commit_date": "Thu Jan 20 21:06:30 2022 -0800", "commit_message": "test_auth_backends: Verify the avatar contents.", "files_name": ["zerver/tests/test_auth_backends.py"]}, {"commit_id": "773c909d7fcbfde27dd1d2334e215d4a8e821d9a", "commit_date": "Thu Jan 20 19:45:47 2022 -0800", "commit_message": "test_queue: Ensure the test_suite queue exists in setUp.", "files_name": ["zerver/tests/test_queue.py"]}, {"commit_id": "1f3e87b2a3cd4e9d58ce69dda1eb39e2a76b8cb3", "commit_date": "Thu Jan 20 19:52:04 2022 -0800", "commit_message": "test_queue_error_json: Acknowledge the received message.", "files_name": ["zerver/tests/test_queue.py"]}, {"commit_id": "ca311e83c80175f51b7623265001d512a31c643e", "commit_date": "Fri Jan 21 13:09:28 2022 -0800", "commit_message": "docs: Fix typos in GSoC guide.", "files_name": ["docs/contributing/gsoc.md"]}, {"commit_id": "f0ee0652921219543e5e587a992bd093b3a35b16", "commit_date": "Thu Jan 13 22:42:59 2022 -0500", "commit_message": "streams: Use bulleted format for description change notifications.", "files_name": ["zerver/lib/actions.py", "zerver/tests/test_subs.py"]}, {"commit_id": "fab1b7f5d50841f0b544e5ffd7f569b2acd633a0", "commit_date": "Wed Dec 8 18:38:08 2021 -0500", "commit_message": "actions: Refactor functions for stream permission changes.", "files_name": ["zerver/lib/actions.py", "zerver/tests/test_bots.py", "zerver/tests/test_message_flags.py", "zerver/tests/test_message_topics.py", "zerver/tests/test_reactions.py", "zerver/views/streams.py"]}, {"commit_id": "0d99809fd3423750eb0d95306eb201ab079f080e", "commit_date": "Fri Dec 10 18:41:25 2021 -0500", "commit_message": "streams: Add notifications for permission policy changes.", "files_name": ["zerver/lib/actions.py", "zerver/lib/streams.py", "zerver/models.py", "zerver/openapi/curl_param_value_generators.py", "zerver/tests/test_bots.py", "zerver/tests/test_events.py", "zerver/tests/test_message_flags.py", "zerver/tests/test_message_topics.py", "zerver/tests/test_reactions.py", "zerver/tests/test_subs.py", "zerver/views/streams.py"]}, {"commit_id": "aa8b3f97294d2bd551272f7e0486d747370eceb5", "commit_date": "Mon Dec 13 17:57:37 2021 -0500", "commit_message": "streams: Add RealmAuditLog entries for permission changes.", "files_name": ["zerver/lib/actions.py", "zerver/tests/test_subs.py"]}, {"commit_id": "42f46a78e9c8f68de7feeb8989bace6800d0edcc", "commit_date": "Thu Jan 20 08:02:17 2022 -0500", "commit_message": "docs: Fix grammar problems found by LanguageTool.", "files_name": ["docs/production/email-gateway.md", "docs/production/install-existing-server.md", "docs/production/security-model.md", "docs/production/settings.md", "docs/production/video-calls.md"]}, {"commit_id": "61e87b0ac8d9dcfe2ec8839407d7cac9db58d026", "commit_date": "Wed Jan 19 21:31:59 2022 +0530", "commit_message": "api_documentation: Update subscriptions parameter in OpenAPI doc.", "files_name": ["zerver/openapi/zulip.yaml"]}, {"commit_id": "afd8d5ef0cbcf2ca0e4542ea298da8cd69632e01", "commit_date": "Fri Jan 21 14:10:48 2022 -0800", "commit_message": "openapi: Improve stream description details.", "files_name": ["zerver/openapi/zulip.yaml"]}, {"commit_id": "9e1fd261251e074ab5aadaa04b82eb7e3bd57739", "commit_date": "Tue Dec 28 20:41:45 2021 -0500", "commit_message": "docs: Make general improvements to our billing docs.", "files_name": ["docs/subsystems/billing.md"]}, {"commit_id": "94d00ca9421f0f42737658397a89458369d462e3", "commit_date": "Thu Jan 13 22:20:39 2022 -0500", "commit_message": "zilencer: Stop serving requests from deactivated remote servers.", "files_name": ["zerver/decorator.py", "zerver/lib/exceptions.py", "zerver/tests/test_push_notifications.py"]}, {"commit_id": "3bc0f8c6f9b2d5fe427091f3a5ff2e0cb342b78e", "commit_date": "Wed Jan 12 17:45:01 2022 -0500", "commit_message": "zilencer: Add endpoint for deactivating remote server registration.", "files_name": ["zerver/tests/test_push_notifications.py", "zilencer/urls.py", "zilencer/views.py"]}, {"commit_id": "bd197886fe96f3c3246d036a9f59ae070273f206", "commit_date": "Thu Jan 20 16:24:26 2022 -0500", "commit_message": "management/commands: Refactor logging code in register_server.", "files_name": ["zerver/management/commands/register_server.py"]}, {"commit_id": "fb09c184623fcff067651e1b0289311c47cc8893", "commit_date": "Thu Jan 20 18:37:44 2022 -0500", "commit_message": "management/commands: Refactor error handling in register_server.", "files_name": ["zerver/management/commands/register_server.py"]}, {"commit_id": "367fed89f27e0a5a7947fc32540c99bcba58fbad", "commit_date": "Fri Jan 21 15:02:30 2022 -0800", "commit_message": "register_server: Improve HTTP error reporting.", "files_name": ["zerver/management/commands/register_server.py"]}, {"commit_id": "93329c2d70e06fd51c1d0e061470e7e7b442b483", "commit_date": "Thu Jan 13 22:26:28 2022 -0500", "commit_message": "send_custom_email: Only send emails to active remote servers.", "files_name": ["zerver/management/commands/send_custom_email.py"]}, {"commit_id": "a020d7a80d856594f9200a29213e30f451dc443e", "commit_date": "Fri Jan 21 15:45:11 2022 -0800", "commit_message": "user_profile: Fix unsubscribing other users from streams.", "files_name": ["static/templates/user_profile_modal.hbs"]}, {"commit_id": "be1c4c2bd804c884fdec7c4fc5acb7eb4eba38fa", "commit_date": "Fri Jan 7 15:19:31 2022 -0800", "commit_message": "docs: Mention Camo does not use a local Smokescreen in the proxies docs.", "files_name": ["docs/production/deployment.md", "docs/production/security-model.md"]}, {"commit_id": "79bdd8bdb6c7afe7c38449b5ca267be511f0142d", "commit_date": "Wed Nov 24 11:33:27 2021 +0530", "commit_message": "api_key_modal: Update the modal config for `on_show`.", "files_name": ["static/js/settings_account.js"]}, {"commit_id": "84ed22d59a46f55d83e8b14745fb3874f0cdf52b", "commit_date": "Wed Nov 24 11:35:47 2021 +0530", "commit_message": "api_key_modal: Place the error element at the top of the modal.", "files_name": ["static/styles/settings.css", "static/templates/settings/api_key_modal.hbs"]}, {"commit_id": "f43d3b99861b1f1f7a51a77d6a4fd21aeaa159fb", "commit_date": "Tue Jul 20 19:21:31 2021 +0530", "commit_message": "change_email: Migrate modal to dialog_widget.", "files_name": ["static/js/settings_account.js", "static/styles/settings.css", "static/templates/change_email_modal.hbs", "static/templates/settings/account_settings.hbs"]}, {"commit_id": "49e9cf10de3184021bf531538a9d2b39b4bb4289", "commit_date": "Wed Jul 7 12:46:19 2021 +0530", "commit_message": "user_status: Migrate modal to dialog_widget.", "files_name": ["frontend_tests/puppeteer_tests/user-status.ts", "static/js/emoji_picker.js", "static/js/user_status_ui.js", "static/styles/user_status.css", "static/templates/set_status_overlay.hbs"]}, {"commit_id": "c4efc97d5ace9ec0ff03511a1dae5a09284b4800", "commit_date": "Fri Jan 7 09:21:55 2022 +0000", "commit_message": "compose: Extend empty compose navigation logic to recipient boxes.", "files_name": ["frontend_tests/node_tests/compose_actions.js", "static/js/compose_state.js", "tools/test-js-with-node"]}, {"commit_id": "3bbe5c11100b56556a7340d57f6e3ab7f7f2414b", "commit_date": "Fri Jan 21 16:17:15 2022 -0800", "commit_message": "puppet: Put comments on iptables lines.", "files_name": ["puppet/zulip_ops/manifests/firewall_allow.pp"]}, {"commit_id": "d035efd4675bf5f99e8674b119b751e7594a1675", "commit_date": "Mon Nov 8 18:50:07 2021 -0800", "commit_message": "ci: Test upgrade-postgresql on Ubuntu 20.04.", "files_name": [".github/workflows/production-suite.yml", "tools/ci/production-install"]}, {"commit_id": "a58a71ef439fa6858f58b2ca7cdd853df91118d3", "commit_date": "Mon Nov 8 13:12:57 2021 -0800", "commit_message": "Remove Ubuntu 18.04 support.", "files_name": [".github/workflows/production-suite.yml", ".github/workflows/zulip-ci.yml", "Vagrantfile", "docs/contributing/code-reviewing.md", "docs/development/setup-advanced.md", "docs/development/setup-vagrant.md", "docs/development/test-install.md", "docs/production/postgresql.md", "docs/production/requirements.md", "docs/production/upgrade-or-modify.md", "docs/subsystems/dependencies.md", "docs/subsystems/release-checklist.md", "puppet/zulip/manifests/external_dep.pp", "puppet/zulip/manifests/smokescreen.pp", "requirements/common.in", "requirements/dev.txt", "requirements/prod.txt", "scripts/lib/install", "scripts/lib/upgrade-zulip-stage-2", "scripts/setup/apt-repos/ksplice/bionic.list", "scripts/setup/apt-repos/teleport/bionic.list", "scripts/setup/apt-repos/zulip/bionic.list", "scripts/setup/apt-repos/zulip/cosmic.list", "scripts/setup/apt-repos/zulip/disco.list", "scripts/setup/apt-repos/zulip/eoan.list", "templates/zerver/api/incoming-webhooks-walkthrough.md", "tools/ci/Dockerfile", "tools/ci/Dockerfile.prod"]}], "parents": [{"commit_id_before": "3659d95092f3e835ef610b6ccb4ae0b33ca74b86", "url_before": "https://api.github.com/repos/zulip/zulip/commits/3659d95092f3e835ef610b6ccb4ae0b33ca74b86", "html_url_before": "https://github.com/zulip/zulip/commit/3659d95092f3e835ef610b6ccb4ae0b33ca74b86"}], "details": [{"raw_url": "https://github.com/zulip/zulip/raw/3eb2791c3e9695f7d37ffe84e0c2184fae665cb6/static%2Ftemplates%2Frecipient_row.hbs", "code": "{{#if is_stream}}\n<div class=\"message_header message_header_stream right_part\">\n    <div class=\"message-header-wrapper\">\n        <div class=\"message-header-contents\">\n            {{! stream link }}\n            <a class=\"message_label_clickable narrows_by_recipient stream_label {{color_class}}\"\n              style=\"background: {{background_color}}; border-left-color: {{background_color}};\"\n              href=\"{{stream_url}}\"\n              title=\"{{#tr}}Narrow to stream &quot;{display_recipient}&quot;{{/tr}}\">\n                {{~! Icons for invite-only/web-public streams ~}}\n                {{~#if invite_only ~}}\n                    <i class=\"fa fa-lock recipient-row-stream-icon\" title=\"{{t 'This is a private stream' }}\" aria-label=\"{{t 'This is a private stream' }}\"></i>\n                {{/if}}\n\n                {{~#if is_web_public ~}}\n                    <i class=\"fa fa-globe recipient-row-stream-icon\" title=\"{{t 'This is a web public stream' }}\" aria-label=\"{{t 'This is a web public stream' }}\"></i>\n                {{/if}}\n\n                {{~! Recipient (e.g. stream/topic or topic) ~}}\n                {{~display_recipient~}}\n            </a>\n\n            {{! hidden narrow icon for copy-pasting }}\n            <span class=\"copy-paste-text\">&gt;</span>\n\n            {{! topic stuff }}\n            <span class=\"stream_topic\">\n                {{! topic link }}\n                <a class=\"message_label_clickable narrows_by_topic\"\n                  href=\"{{topic_url}}\"\n                  title=\"{{#tr}}Narrow to stream &quot;{display_recipient}&quot;, topic &quot;{topic}&quot;{{/tr}}\">\n                    {{#if use_match_properties}}\n                        {{{match_topic}}}\n                    {{else}}\n                        {{topic}}\n                    {{/if}}\n                </a>\n            </span>\n            <span class=\"recipient_bar_controls no-select\">\n                <span class=\"topic_edit hidden-for-spectators\">\n                    <span class=\"topic_edit_form\" id=\"{{id}}\"></span>\n                </span>\n\n                {{! exterior links (e.g. to a trac ticket) }}\n                {{#each topic_links}}\n                    <a href=\"{{this.url}}\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"no-underline\">\n                        <i class=\"fa fa-external-link-square recipient_bar_icon\" data-tippy-content=\"Open {{this.text}}\" aria-label=\"{{t 'External link' }}\"></i>\n                    </a>\n                {{/each}}\n\n                {{! edit topic pencil icon }}\n                {{#if always_visible_topic_edit}}\n                    <i class=\"fa fa-pencil always_visible_topic_edit recipient_bar_icon hidden-for-spectators\" {{#unless realm_allow_message_editing}}style=\"display: none\"{{/unless}} data-tippy-content=\"{{t 'Edit topic'}}\" role=\"button\" tabindex=\"0\" aria-label=\"{{t 'Edit topic' }}\"></i>\n                {{else}}\n                    {{#if on_hover_topic_edit}}\n                    <i class=\"fa fa-pencil on_hover_topic_edit recipient_bar_icon hidden-for-spectators\" {{#unless realm_allow_message_editing}}style=\"display: none\"{{/unless}} data-tippy-content=\"{{t 'Edit topic'}}\" role=\"button\" tabindex=\"0\" aria-label=\"{{t 'Edit topic' }}\"></i>\n                    {{/if}}\n                {{/if}}\n\n                {{#if user_can_resolve_topic}}\n                    {{#if topic_is_resolved}}\n                        <i class=\"fa fa-check on_hover_topic_unresolve recipient_bar_icon hidden-for-spectators\" data-topic-name=\"{{topic}}\" data-tippy-content=\"{{t 'Mark as unresolved' }}\" role=\"button\" tabindex=\"0\" aria-label=\"{{t 'Mark as unresolved' }}\"></i>\n                    {{else}}\n                        <i class=\"fa fa-check on_hover_topic_resolve recipient_bar_icon hidden-for-spectators\" data-topic-name=\"{{topic}}\" data-tippy-content=\"{{t 'Mark as resolved' }}\" role=\"button\" tabindex=\"0\" aria-label=\"{{t 'Mark as resolved' }}\"></i>\n                    {{/if}}\n                {{/if}}\n\n                {{#if topic_muted}}\n                    <i class=\"fa fa-bell-slash on_hover_topic_unmute recipient_bar_icon\" data-stream-id=\"{{stream_id}}\" data-topic-name=\"{{topic}}\" data-tippy-content=\"{{t 'Unmute topic' }} (M)\" role=\"button\" tabindex=\"0\" aria-label=\"{{t 'Unmute topic' }}\"></i>\n                {{else}}\n                    <i class=\"fa fa-bell-slash on_hover_topic_mute recipient_bar_icon hidden-for-spectators\" data-stream-id=\"{{stream_id}}\" data-topic-name=\"{{topic}}\" data-tippy-content=\"{{t 'Mute topic' }} (M)\" role=\"button\" tabindex=\"0\" aria-label=\"{{t 'Mute topic' }}\"></i>\n                {{/if}}\n            </span>\n            <span class=\"recipient_row_date {{#if group_date_divider_html}}{{else}}hide-date{{/if}}\">{{{date}}}</span>\n        </div>\n    </div>\n</div>\n{{else}}\n<div class=\"message_header message_header_private_message dark_background\">\n    <div class=\"message-header-wrapper\">\n        <div class=\"message-header-contents\">\n            <a class=\"message_label_clickable narrows_by_recipient stream_label\"\n              href=\"{{pm_with_url}}\"\n              title=\"{{#tr}}Narrow to your private messages with {display_reply_to}{{/tr}}\">\n                {{#tr}}You and {display_reply_to}{{/tr}}\n            </a>\n\n            <span class=\"recipient_row_date {{#if group_date_divider_html}}{{else}}hide-date{{/if}}\">{{{date}}}</span>\n        </div>\n    </div>\n</div>\n{{/if}}\n", "code_before": "{{#if is_stream}}\n<div class=\"message_header message_header_stream right_part\">\n    <div class=\"message-header-wrapper\">\n        <div class=\"message-header-contents\">\n            {{! stream link }}\n            <a class=\"message_label_clickable narrows_by_recipient stream_label {{color_class}}\"\n              style=\"background: {{background_color}}; border-left-color: {{background_color}};\"\n              href=\"{{stream_url}}\"\n              title=\"{{#tr}}Narrow to stream &quot;{display_recipient}&quot;{{/tr}}\">\n                {{~! Icons for invite-only/web-public streams ~}}\n                {{~#if invite_only ~}}\n                    <i class=\"fa fa-lock recipient-row-stream-icon\" title=\"{{t 'This is a private stream' }}\" aria-label=\"{{t 'This is a private stream' }}\"></i>\n                {{/if}}\n\n                {{~#if is_web_public ~}}\n                    <i class=\"fa fa-globe recipient-row-stream-icon\" title=\"{{t 'This is a web public stream' }}\" aria-label=\"{{t 'This is a web public stream' }}\"></i>\n                {{/if}}\n\n                {{~! Recipient (e.g. stream/topic or topic) ~}}\n                {{~{display_recipient}~}}\n            </a>\n\n            {{! hidden narrow icon for copy-pasting }}\n            <span class=\"copy-paste-text\">&gt;</span>\n\n            {{! topic stuff }}\n            <span class=\"stream_topic\">\n                {{! topic link }}\n                <a class=\"message_label_clickable narrows_by_topic\"\n                  href=\"{{topic_url}}\"\n                  title=\"{{#tr}}Narrow to stream &quot;{display_recipient}&quot;, topic &quot;{topic}&quot;{{/tr}}\">\n                    {{#if use_match_properties}}\n                        {{{match_topic}}}\n                    {{else}}\n                        {{topic}}\n                    {{/if}}\n                </a>\n            </span>\n            <span class=\"recipient_bar_controls no-select\">\n                <span class=\"topic_edit hidden-for-spectators\">\n                    <span class=\"topic_edit_form\" id=\"{{id}}\"></span>\n                </span>\n\n                {{! exterior links (e.g. to a trac ticket) }}\n                {{#each topic_links}}\n                    <a href=\"{{this.url}}\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"no-underline\">\n                        <i class=\"fa fa-external-link-square recipient_bar_icon\" data-tippy-content=\"Open {{this.text}}\" aria-label=\"{{t 'External link' }}\"></i>\n                    </a>\n                {{/each}}\n\n                {{! edit topic pencil icon }}\n                {{#if always_visible_topic_edit}}\n                    <i class=\"fa fa-pencil always_visible_topic_edit recipient_bar_icon hidden-for-spectators\" {{#unless realm_allow_message_editing}}style=\"display: none\"{{/unless}} data-tippy-content=\"{{t 'Edit topic'}}\" role=\"button\" tabindex=\"0\" aria-label=\"{{t 'Edit topic' }}\"></i>\n                {{else}}\n                    {{#if on_hover_topic_edit}}\n                    <i class=\"fa fa-pencil on_hover_topic_edit recipient_bar_icon hidden-for-spectators\" {{#unless realm_allow_message_editing}}style=\"display: none\"{{/unless}} data-tippy-content=\"{{t 'Edit topic'}}\" role=\"button\" tabindex=\"0\" aria-label=\"{{t 'Edit topic' }}\"></i>\n                    {{/if}}\n                {{/if}}\n\n                {{#if user_can_resolve_topic}}\n                    {{#if topic_is_resolved}}\n                        <i class=\"fa fa-check on_hover_topic_unresolve recipient_bar_icon hidden-for-spectators\" data-topic-name=\"{{topic}}\" data-tippy-content=\"{{t 'Mark as unresolved' }}\" role=\"button\" tabindex=\"0\" aria-label=\"{{t 'Mark as unresolved' }}\"></i>\n                    {{else}}\n                        <i class=\"fa fa-check on_hover_topic_resolve recipient_bar_icon hidden-for-spectators\" data-topic-name=\"{{topic}}\" data-tippy-content=\"{{t 'Mark as resolved' }}\" role=\"button\" tabindex=\"0\" aria-label=\"{{t 'Mark as resolved' }}\"></i>\n                    {{/if}}\n                {{/if}}\n\n                {{#if topic_muted}}\n                    <i class=\"fa fa-bell-slash on_hover_topic_unmute recipient_bar_icon\" data-stream-id=\"{{stream_id}}\" data-topic-name=\"{{topic}}\" data-tippy-content=\"{{t 'Unmute topic' }} (M)\" role=\"button\" tabindex=\"0\" aria-label=\"{{t 'Unmute topic' }}\"></i>\n                {{else}}\n                    <i class=\"fa fa-bell-slash on_hover_topic_mute recipient_bar_icon hidden-for-spectators\" data-stream-id=\"{{stream_id}}\" data-topic-name=\"{{topic}}\" data-tippy-content=\"{{t 'Mute topic' }} (M)\" role=\"button\" tabindex=\"0\" aria-label=\"{{t 'Mute topic' }}\"></i>\n                {{/if}}\n            </span>\n            <span class=\"recipient_row_date {{#if group_date_divider_html}}{{else}}hide-date{{/if}}\">{{{date}}}</span>\n        </div>\n    </div>\n</div>\n{{else}}\n<div class=\"message_header message_header_private_message dark_background\">\n    <div class=\"message-header-wrapper\">\n        <div class=\"message-header-contents\">\n            <a class=\"message_label_clickable narrows_by_recipient stream_label\"\n              href=\"{{pm_with_url}}\"\n              title=\"{{#tr}}Narrow to your private messages with {display_reply_to}{{/tr}}\">\n                {{#tr}}You and {display_reply_to}{{/tr}}\n            </a>\n\n            <span class=\"recipient_row_date {{#if group_date_divider_html}}{{else}}hide-date{{/if}}\">{{{date}}}</span>\n        </div>\n    </div>\n</div>\n{{/if}}\n", "patch": "@@ -17,7 +17,7 @@\n                 {{/if}}\n \n                 {{~! Recipient (e.g. stream/topic or topic) ~}}\n-                {{~{display_recipient}~}}\n+                {{~display_recipient~}}\n             </a>\n \n             {{! hidden narrow icon for copy-pasting }}", "file_path": "files/2022_1/260", "file_language": "hbs", "file_name": "static/templates/recipient_row.hbs", "outdated_file_modify": 0, "outdated_file_before": 0, "outdated_file_after": 0}], "outdated": 0, "cwe_descripiton": "", "cwe_consequence": "", "cwe_method": "", "cwe_solution": ""}
